image:/media/image1.png[image,400,400]

DGIWG – 112

DGIWG – Web Map Service 1.3 Profile – Revision

*Document type:* Standard  +
*Document subtype:* Implementation Profile  +
*Document date:* 17 October 2017  +
*Edition number:* 3.0 WD7  +
*Supersedes:* This document supersedes DGIWG – 112 Ed. 2.1.0, Web Map Service (WMS) Profile, dated 16 November 2015.  +
*Responsible Party:* DGIWG  +
*Audience:* This document is approved for public release and is available on the DGIWG website, http://www.dgiwg.org/dgiwg/  +
*Abstract:* This document defines specific DGIWG requirements, recommendations and guidelines for implementations of the ISO and OGC Web Map Service standards; ISO 19128:2005 Web Map Server Interface and the OpenGIS Web Map Server Implementation Specification 1.3.0.  +
*Copyright:* (C) Copyright DGIWG, some rights reserved - (CC) (By:) Attribution  

You are free:

- to copy, distribute, display, and perform/execute the work

- to make derivative works

- to make commercial use of the work

Under the following conditions:

- (By:) Attribution. You must give the original author (DGIWG) credit.

- For any reuse or distribution, you must make clear to others the license terms of this work.

Any of these conditions can be waived if you get permission from the copyright holder DGIWG.

Your fair use and other rights are in no way affected by the above.

This is a human-readable summary of the Legal Code (the full license is available from Creative Commons <http://creativecommons.org/licenses/by/2.0/ >).

= Table of Contents

link:#table-of-contents[Table of Contents i]  +
link:#list-of-tables[List of Tables iii]  +
link:#executive-summary[Executive Summary iii]  +
link:#submitting-organizations[i. Submitting organizations v]  +
link:#revision-history[ii. Revision history v]  +
link:#future-work[iii. Future work v]  +
link:#introduction[1. Introduction 1]  +
link:#scope[2. Scope 2]  +
link:#conformance[3. Conformance 2]  +
link:#conformance-classes[3.1. Conformance classes 2]  +
link:#backward-compatibility[3.2. Backward compatibility 2]  +
link:#normative-and-informative-references[4. Normative and informative References 3]  +
link:#normative-references[4.1. Normative references 3]  +
link:#informative-references[4.2. Informative References 4]  +
link:#terms-definitions-and-abbreviations[5. Terms, definitions, and abbreviations 4]  +
link:#definitions[5.1. Definitions 4]  +
link:#abbreviations[5.2. Abbreviations 4]  +
link:#_Toc495991118[6. Presentation (informative) 6]  +
link:#dgiwg-basic-wms-normative[7. DGIWG Basic WMS (normative) 7]  +
link:#normative-requirements[7.1. Normative Requirements 7]  +
link:#non-normative-recommendations-for-implementation[7.2. Non-Normative Recommendations for Implementation 8]  +
link:#service-type[7.3. Service Type 9]  +
link:#basic-service-elements[7.4. Basic service elements 9]  +
link:#version-number[7.4.1. Version number 9]  +
link:#binding[7.4.2. Binding 9]  +
link:#language[7.4.3. Language 9]  +
link:#output-formats[7.4.4. Output Formats 10]  +
link:#coordinate-systems[7.4.5. Coordinate Systems 10]  +
link:#request-parameter-rules[7.4.6. Request Parameter Rules 12]  +
link:#operations[7.5. Operations 13]  +
link:#getcapabilities-operation-request[7.5.1. GetCapabilities Operation Request 13]  +
link:#getcapabilities-operation-response[7.5.2. GetCapabilities Operation Response 13]  +
link:#getmap-operation-request[7.5.3. GetMap Operation Request 20]  +
link:#getmap-response[7.5.4. GetMap Response 22]  +
link:#dgiwg-queryable-wms-normative[8. DGIWG Queryable WMS (normative) 23]  +
link:#normative-requirements-1[8.1. Normative Requirements 23]  +
link:#non-normative-recommendations-for-implementation-1[8.2. Non-Normative Recommendations for Implementation 23]  +
link:#service-type-1[8.3. Service Type 23]  +
link:#basic-service-elements-1[8.4. Basic Service elements 24]  +
link:#output-formats-1[8.4.1. Output Formats 24]  +
link:#operations-1[8.5. Operations 24]  +
link:#getcapabilities-operation-response-1[8.5.1. GetCapabilities Operation Response 24]  +
link:#getfeatureinfo-operation-request[8.5.2. GetFeatureInfo Operation Request 24]  +
link:#getfeatureinfo-response[8.5.3. GetFeatureInfo response 26]  +
link:#quality-of-service[9. Quality of Service 27]  +
link:#non-normative-recommendations-for-implementation-2[9.1. Non-Normative Recommendations for Implementation 27]  +
link:#performance[9.2. Performance 27]  +
link:#capacity[9.3. Capacity 27]  +
link:#availability[9.4. Availability 27]  +

link:#annex-a-abstract-test-suite[Annex A – Abstract Test Suite 28]  +
link:#dgiwg-basic-wms[A.1 DGIWG Basic WMS 28]  +
link:#dgiwg-service-type[A.1.1 DGIWG Service Type 28]  +
link:#dgiwg-basic-service-elements[A.1.2 DGIWG Basic Service elements 28]  +
link:#dgiwg-wms-crs[A.1.3 DGIWG WMS CRS 29]  +
link:#dgiwg-wms-request-parameters---exceptions[A.1.4 DGIWG WMS Request Parameters - Exceptions 29]  +
link:#dgiwg-wms-operations[A.1.5 DGIWG WMS Operations 29]  +
link:#dgiwg-queryable-wms[A.2 DGIWG Queryable WMS 31]  +
link:#dgiwg-wms-basic[A.2.1 DGIWG WMS Basic 31]  +
link:#dgiwg-service-type-1[A.2.2 DGIWG Service Type 31]  +
link:#dgiwg-basic-service-elements-1[A.2.3 DGIWG Basic Service elements 31]  +
link:#dgiwg-wms-operations-1[A.2.4 DGIWG WMS operations 31]  +
link:#annex-b-use-cases[Annex B – Use cases 33]  +
link:#annex-c-examples[Annex C – Examples 36]  +
link:#annex-d-client-requirements-and-recommendations[Annex D – Client Requirements and Recommendations 42]  +
link:#annex-e-utm-grid-and-mgrs-grid-system-handling-in-wms-clients-and-portals[Annex E – UTM Grid and MGRS Grid System Handling in WMS Clients and Portals 44]  +
link:#annex-f-dgim-groups-and-subgroups-in-baseline-2016-2.0[Annex F – DGIM groups and subgroups in baseline 2016-2.0 46]  +
link:#annex-g-changes-from-v2.1-and-3.0-of-the-dgwig-wms-profile[Annex G – Changes from v2.1 and 3.0 of the DGWIG WMS profile 49]

= List of Tables

link:#_Ref399233124[Table 1: DGIWG Basic WMS Normative Server Requirements 8]  +
link:#_Ref399233142[Table 2: DGIWG WMS Profile Non-normative Recommendations for DGIWG Basic WMS Server Implementation 9]  +
link:#_Ref363043970[Table 3: The parameters of a GetCapabilities request URL as per Normative Reference [1] 13]  +
link:#_Ref477963119[Table 4: GetCapabilities response – general service metadata 14]  +
link:#_Ref363068298[Table 5: Layer attributes 18]  +
link:#_Ref363158505[Table 6: GetMap request parameters 20]  +
link:#_Ref482885652[Table 7: DGIWG Queryable WMS Normative Server Requirements 23]  +
link:#_Ref482885633[Table 8: DGIWG WMS Profile Non-normative Recommendations for DGIWG Queryable WMS Server Implementation 23]  +
link:#_Toc488937754[Table 9: GetFeatureInfo Request parameters 25]  +
link:#_Toc488937755[Table 10: DGIWG WMS Profile Non-normative Recommendations about quality for DGIWG WMS Server Implementation 27]  +
link:#_Ref394433751[Table 11: Normative client requirements 42]  +
link:#_Ref394433891[Table 12: DGIWG WMS Profile Non-normative Recommandations for Client Implementation 42]  +

= Executive Summary

This document defines specific DGIWG requirements, recommendations and guidelines for implementations of the ISO / OGC Web Map Service standard which is based on ISO 19128:2005 Web Map Server Interface / OpenGIS Web Map Server Implementation Specification 1.3.0.

ISO 19128: 2005 defines a Web Map Service as:

_"A Web Map Service (WMS) produces maps of spatially referenced data dynamically from geographic information. This International Standard defines a “map” to be a portrayal of geographic information as a digital image file suitable for display on a computer screen. A map is not the data itself. WMS-produced maps are generally rendered in a pictorial format such as PNG, GIF or JPEG, or occasionally as vector-based graphical elements in Scalable Vector Graphics (SVG) or Web Computer Graphics Metafile (WebCGM) formats."_

Previous versions of the WMS standard have not been considered in this profile.

The WMS Interface offers 3 Operations:

* *GetCapabilities* (mandatory): Allows for obtaining Service Metadata

* *GetMap* (mandatory): Returns a map

* *GetFeatureInfo* (optional): Provides additional information about features in the pictures of maps that were returned by previous GetMap requests

The WMS Implementation Specification defines two conformance classes, “Basic WMS” and “Queryable WMS”. The Basic WMS supports the mandatory GetCapabilities and GetMap operations (requests and responses) whereas the Queryable WMS supports all Basic WMS operations and the GetFeatureInfo operation. The DGIWG WMS profile mandates the implementation of the *Basic WMS*.

Software implementations that claim to be conformant with the DGIWG WMS profile *shall* support *all mandatory* operations, parameters and elements of the base standard, as well as the specifically defined requirements in this document.

The DGIWG WMS profile *references* the different operations and parameters of *the base standard* and subsequently *defines specific DGIWG requirements* and *recommendations* for software implementations to foster *interoperability* and use in the *military domain*.

= Submitting organizations

For the Defence Geospatial Information Working Group (DGIWG):

[cols=",",]

|================================================================
|*Nation* |*Parent organization*
|Germany |Bundeswehr Geoinformation Centre (BGIC)
|France |Institut Géographique National (IGN)
|United States |National Geospatial-Intelligence Agency (NGA)
|United Kingdom |Defence Science and Technology Laboratory (DSTL)
|================================================================

= Revision history

This document is a revision of OGC Best Practice 09-102 DGIWG WMS 1.3 Profile and systems requirements for interoperability for use within a military environment (0.9.0). This document is also a revision of NGA.STND.0038_1.0.1_ WMS National System for Geospatial-Intelligence (NSG) OGC Web Map Service 1.3 Interoperability Standard, version 1.0.1, 22 May 2013.

= Future work

A revision of WMS 1.3 is currently undertaken at the OGC. The revision will produce a version 1.4. WMS standard. This DGIWG WMS profile will be updated accordingly. Currently the WMS 2.0 Standards Working Group is working off several Change Requests including support for JavaScript Object Notation (JSON) encoded GetFeatureInfo responses. This profile will be updated to the new base standard version as requirements dictate.

= Introduction

This document defines specific DGIWG requirements, recommendations and guidelines for implementations of the ISO / OGC Web Map Service standard which is based on ISO 19128:2005 Web Map Server Interface / OpenGIS Web Map Server Implementation Specification 1.3.0.

A Web Map Service (WMS) produces maps of spatially referenced data dynamically from geographic information.

The OGC WMS Interface offers 3 Operations:

* GetCapabilities (mandatory): Allows for obtaining Service Metadata

* GetMap (mandatory): Returns a map

* GetFeatureInfo (optional): Provides additional information about features in the pictures of maps that were returned by previous GetMap requests

The WMS Implementation Specification defines two conformance classes, “Basic WMS” and “Queryable WMS”.

The Basic WMS supports the mandatory GetCapabilities and GetMap operations (requests and responses) whereas the Queryable WMS supports all Basic WMS operations and the GetFeatureInfo operation.

*Software implementations that claim to be conformant with the DGIWG WMS profile shall support the Basic WMS, as well as the specifically defined requirements in this document.*

The DGIWG WMS profile is written in such a way that it references the different operations and parameters of the base standard and then defines specific requirements for software implementation.

= Scope

This document defines specific DGIWG requirements, recommendations and guidelines for implementations of the ISO / OGC Web Map Service standard which is based on ISO 19128:2005 Web Map Server Interface / OpenGIS Web Map Server Implementation Specification 1.3.0.

= Conformance

== Conformance classes

This document establishes two conformance classes:

* DGIWG Basic WMS,

* DGIWG Queryable WMS, which extends the DGIWG basic WMS.

Annex A lists the conformance abstract tests which shall be exercised on any software artefact claiming to implement a DGIWG WMS profile.

DGIWG WMS Profile conformance class defines requirements for WMS servers allowing distribution of geographic data in a military environment.

[cols=",,,",options="header",]

|=============================================================================================================

|*Conformance class name* |*Operation or behavior* |*OGC WMS Conformance Test* |*DGIWG WMS Conformance Test*

|*OGC WMS Basic* |The server shall implement the Basic WMS conformance class |*A.1 Basic WMS* | 
|*OGC WMS Queryable* a|The server shall implement the Basic WMS conformance class

DGIWG Requirement 1
|*A.2 Queryable WMS* |

a|*DGIWG Basic WMS* 
http://www.dgiwg.org/std/wms/3.0/conf/basic
a|

*DGIWG requirements*

DGIWG WMS Basic WMSProfile (normative)

Requirement 1 to Requirement 23

| |*Annex* *A.1*

a|*DGIWG Queryable WMS*
http://www.dgiwg.org/std/wms/3.0/conf/queryable
a|*DGIWG requirements*

DGIWG Queryable WMS (normative)

All requirements from DGIWG Basic WMS and Requirement 24 to Requirement 27

| |*Annex* *A.2*

|=============================================================================================================

== Backward compatibility

From a high level point of view, following process has been used for moving from version 2.1 to version 3.0 of the DGIWG WMS profile:

* Requirements have been broken into two conformances classes; "DGIWG Basic WMS" defines then the minimum DGIWG implementation;

* Some requirements have been clarified based on comments from NATO/NCIA or comments from testbeds;

* Some requirements have been relaxed or simplified (meaning there are easier to implement with version 3.0); some have been completely deleted.

*This means this 3.0 is easier to implement; all WMS server compliant with DGIWG WMS profile v2.1 are compliant with the v3.0, "DGIWG Queryable WMS" conformance class.*

[cols=",",options="header",]

|====================================================
|*DGIWG WMS profile v2.1* |*DGIWG WMS profile v3.0*
|Only one single conformance class |"DGIWG Basic WMS"
| |"DGIWG Queryable WMS"
|====================================================

More details are provided in ANNEX F.

= Normative and informative References

== Normative references

[cols=",,,",]

|========================================================================================================

|ID |Title |Reference |Version
|[1] |OGC Web Map Service Implementation Specification 1.3.0, 2006 (same as ISO 19128) |OGC 06-042 |1.3.0
|[3] |DGIWG Metadata Foundation |DGIWG – 114 |1.10 (7-2014)
|========================================================================================================

== Informative References

[cols=",,",]

|=================================================================================================================================================================================================

|*Title* |*Reference* |*Version*

|DGIWG WMS 1.3 Profile and Systems Requirements for Interoperability for Use within a Military Environment, STD-08-054-ED1.3, 2008. |OGC 09-102 |0.9

|Best Practices for using OGC WMS with Time-Dependent or Elevation-Dependent Data |12-111r1 |1.0

|National System for Geospatial-Intelligence (NSG) OGC Web Map Service 1.3 Interoperability Standard, 22 May 2013 |NGA.STND.0038_1.0.1_NSG_WMS_1 3 0 _Interoperability_Standard |1.0.1

|GBR Web Map Service Draft Implementation Profile for WMS 1.3.0, 2012 | |1.0

|DEU Web Map Service Draft Implementation Profile for WMS 1.3.0 | |1.0

|UK MOD CGTS Phase 2 Research Project - Core Profile and Best Practice Guide for Use of OpenGIS Web Map Service Version 1.3.0 in support of Military Operations, 2011. |600\10012459\SPC\63\1 |1.0

|OGC NSG Plugweek Engineering Report, 2010 |OGC 09-140r2 |

|OGC TESTBED 10 CCI Profile Interoperability Engineering Report |OGC 14-021r2 |3.0

|OpenGIS Wrapping OGC HTTP-GET and -POST Services with SOAP - Discussion Paper; dated: 2008-01-24 |OGC 07-158 |

|=================================================================================================================================================================================================

*NOTE:* Implementers of the DGIWG WMS 1.3 Profile should verify all Reference documents for latest edition against the holdings found under http://www.dgiwg.org/dgiwg/htm/documents/documents.htm, Open Geospatial Consortium (OGC) documents are located at: http://www.opengeospatial.org/standards and https://nsgreg.nga.mil/index.jsp

= Terms, definitions, and abbreviations

== Definitions

For the purposes of this document, terms and definitions found in WMS 1.3, *ISO 19128:2005* / *[OGC 06-042]* apply.

== Abbreviations

[cols="<,<",options="header",]

|======================================================
|*BBox* |Bounding Box
|*CRS* |Coordinate Reference System
|*CS* |Coordinate System
|*CSW* |Catalogue Service for the Web
|*DGIWG* |Defence Geospatial Information Working Group
|*DFDD* |DGIWG Feature Data Dictionary
|*DMF* |DGIWG Metadata Framework
|*EPSG* |European Petroleum Survey Group
|*FES* |Filter Encoding Specification
|*FGDC* |Federal Geographic Data Committee
|*GI* |Georeferenced Information
|*GIF* |Graphics Interchange Format
|*GeoInf* |Geospatial Information
|*GeoInt* |Geospatial Intelligence
|*GML* |Geography Markup Language
|*GZIP* |GNU Zip File format
|*HTTP* |Hypertext Transfer Protocol
|*IETF* |Internet Engineering Task Force
|*ISO* |International Organization for Standardization
|*ISO/DIS* |ISO Draft International Standard
|*JPEG* |Joint Photographics Expert Group
|*JSON* |JavaScript Object Notation
|*KVP* |Keyword Value Pairs
|*LAN* |Local Area Network
|*MIME* |Multipurpose Internet Mail Extension
|*NATO* |North Atlantic Treaty Organization
|*NGIF* |NATO Geospatial Information Framework
|*NSG* |National System for Geospatial-Intelligence
|*OGC* |Open Geospatial Consortium
|*OWS* |OGC Web Service
|*PNG* |Portable Network Graphics
|*SDI* |Spatial Data Infrastructure
|*SOAP* |Simple Object Access Protocol
|*SQL* |Structured Query Language
|*SVG* |Scalable Vector Graphics
|*UML* |Unified Modelling Language
|*UPS* |Universal polar stereographic coordinate system
|*URI* |Uniform Resource Identifier
|*URL* |Uniform Resource Locator
|*URN* |Uniform Resource Name
|*UTM* |Universal Transverse Mercator
|*VSP* |Vendor Specific Parameter
|*WFS* |Web Feature Service
|*WMS* |Web Map Service
|*WMTS* |Web Map Tile Service
|*WAN* |Wide Area Network
|*WFS* |Web Feature Service
|*WSDL* |Web Services Description Language
|*XML* |Extensible Markup Language
|*XPath* |XML Path Language
|*XQuery* |XML Query
|======================================================

= Presentation (informative)

A WMS that complies with the DGIWG WMS profile *will *

a.  satisfy all requirements stipulated in the OGC WMS 1.3.0 Specification;

b.  satisfy all requirements stipulated in this document.


These profiles provide advice on the implementation of the WMS so that tests can be provided to ensure objective compliance to the profile. The profiles provide “Normative Clauses” to describe how each component shall be implemented. The Normative Clauses define requirements where mandatory compliance is required for attainment of conformance. However, the profile also includes optional Recommendations which may require a subjective test.

The following syntax is used to indicate the compliance requirement within the profile:

* Mandatory (M) – The requirement shall be implemented

* Conditional (C) – Mandatory when “If” statement applies

* Optional (O) – Should be implemented

*Note:* All Requirements and Recommendations presented within this document are the result of information gathered during the DGIWG Nations questionnaire/survey process. These requirements have also been reviewed and discussed with NCIA (NATO Communications and Information Agency). Implementers should be aware that certain requirements are unique to a national profile such as the metadata requirements for the US shall include conformance with the NSG Metadata Framework while the DGIWG requires conformance with the DGIWG Metadata Framework. These two metadata profiles have been synchronized to the fullest extent possible.



= DGIWG Basic WMS (normative)

== Normative Requirements

The Normative requirements requested by this conformance class are summarized in Table 1.

Precondition to all requirements.

*_PRECONDITION 1: the environment has to provide the location identified by a URL which can be used by the WMS server to make artefacts available to clients. This precondition ensure that any URL provided by the server can be resolvable by the client_*.

[cols=",,",options="header",]

|=========================================================================================================================================================================================================================================================================

|*No.* |*Requirement* |*Compliance*

|1 |A DGIWG Basic WMS server shall be compliant to the Basic WMS conformance class. |M

|2 |A DGIWG Basic WMS server shall support HTTP GET for all operations provided by the server, with parameters encoded in KVP. |M

|3 |A DGIWG Basic WMS server shall provide metadata content in a response to a "GetCapabilities" or “GetFeatureInfo” (if supported) request in English language. |M

|4 a|

A DGIWG Basic WMS server shall support the following raster formats for the GetMap operation:

• image/png (Portable Network Graphics)

• image/gif (Graphics Interchange Format)

• image/jpeg (Joint Photographics Expert Group)

 |M

|5 a|

A DGIWG Basic WMS server shall support the following coordinate reference systems:

• CRS:84 WGS84 geographic longitude, then latitude, expressed in decimal degrees

• EPSG:4326 WGS84 geographic latitude, then longitude, expressed in decimal degrees

• EPSG:3395 World Mercator projection



Among the following Coordinate Reference Systems, the service shall support all those which validity zone overlaps data published by the service:

• UTM projections over WGS84 (north zones)… EPSG:32601 to EPSG:32660

• UTM projections over WGS84 (south zones)… EPSG:32701 to EPSG:32760

• UPS projection over WGS84 (north zone)… EPSG: 5041

• UPS projection over WGS84 (south zone)… EPSG: 5042



 |M

|6 |A DGIWG Basic WMS server shall provide service exceptions in English language. |M

|7 |A DGIWG Basic WMS server shall provide all mandatory service metadata elements according to Table 4. |M

|8 |If content provided by a WMS server is classified, a DGIWG WMS server shall identify the highest classification level of the content accessible through the WMS service by populating the wms:AccessConstraints element. |C

|9 |A DGIWG basic WMS server shall include the following information in the abstract element of the service metadata: "This service implements the DGIWG WMS 1.3 profile version 3.0, DGIWG Basic WMS conformance class (http://www.dgiwg.org/std/wms/3.0/conf/basic)." |M

|10 |A DGIWG WMS server shall provide a minimum keyword list based on the DGIM (DGIWG Geospatial Information Model) groups. |M

|11 |A DGIWG WMS server shall provide information (Name and Title) on the supported styles. |M

|12 |A DGIWG WMS server shall always provide at least one style element and that style shall be advertised even if it's only the default style. |M

|13 |The MaxWidth and MaxHeight shall be greater or equal to 800 pixels or omitted (meaning no constraint). |M

|14 |Each layer's style shall have an associated legend if warranted, available as an image in one of the following formats: PNG, GIF or JPEG. |M

|15 |This legend shall be accessible at the URL specified by LegendURL. |M

|16 |When scale denominators are both specified, the <MinScaleDenominator> value shall always be less than or equal to the <MaxScaleDenominator> value. |M

|17 |In the GetCapabilities, if any FeatureListURL element appears in a particular layer, then the list of features that are in the particular layer shall be resolvable. |M

|18 |In the GetCapabilities, if any DataURL element appears in a particular layer, then the underlying data of the particular layer shall be resolvable. |C

|19 |A DGIWG WMS server shall provide the Layer Attributes according to Table 5. |M

|20 |A DGIWG Basic WMS server shall support transparency. |M

|21 |A DGIWG WMS server shall support the INIMAGE EXCEPTIONS. |M

|22 |A DGIWG WMS server shall support the BLANK EXCEPTIONS. |M

|23 |A DGIWG WMS server that announces available sample dimensions in its service metadata shall resolve the corresponding parameters provided in the GetMap operation for requesting these dimensional values. |M

|=========================================================================================================================================================================================================================================================================

[[_Ref399233124]]Table 1: DGIWG Basic WMS Normative Server Requirements

== Non-Normative Recommendations for Implementation

The non-normative requirements requested by this profile are summarized in Table 2

[cols=",,",options="header",]

|=====================================================================================================================================================================================================================================================================================

|*No.* |*Recommendation* |*Compliance*

|1 |If a service requires vector based graphical elements output, a DGIWG WMS server should provide image/svg+xml (Scalable Vector Graphics) for the GetMap operation. |O

|2 |A DGIWG WMS service should be configured to serve requests that range from at least 4x to at least 0.25x the native scale(s) or resolution(s) of the underlying datasets". |O

|3 |In an SDI like architecture, a DGIWG WMS server should provide a link to the metadata resource via a resolvable URL for example to a CSW server. |O

|4 |A DGIWG WMS server offering vector layers should be queryable.. |O

|5 |If a DGIWG Basic WMS server provides layers with an elevation parameter, it should support the vertical "ELEVATION" parameter. This parameter should be used in accordance with the "OGC Best Practices for using OGC WMS with Time-Dependent or Elevation-Dependent Data [2]". |O

|6 |If a DGIWG Basic WMS server provides layers with an time parameter, it should support the temporal "time" parameter. This parameter should be used in accordance with the "OGC Best Practices for using OGC WMS with Time-Dependent or Elevation-Dependent Data [2]". |O

|6 |For a 470 Kilobytes image, the response time for sending the initial response to a Get Map Request to a view service shall be maximum 5 seconds in normal situation. |O

|7 |The number of simultaneous service requests that a DGIWG WMS server should be able to support is at least 20 per second. |O

|8 |A DGIWG WMS server should be available 99.9% of the time. |O

|=====================================================================================================================================================================================================================================================================================

[[_Ref399233142]]Table 2: DGIWG WMS Profile Non-normative Recommendations for DGIWG Basic WMS Server Implementation

== Service Type

The OGC WMS Implementation Specification defines two conformance classes, “Basic WMS” and “Queryable WMS”. A Basic WMS supports the GetCapabilities and GetMap operations (requests and responses); a Queryable WMS includes all Basic WMS operations and an additional GetFeatureInfo operation.

::
*_Requirement 1: A DGIWG Basic WMS server shall be compliant to the Basic WMS conformance class._*

According to this requirement a DGIWG WMS server shall support the GetCapabilities and GetMap operations. This requirement ensures compatibility with the base standard.

== Basic service elements

The Basic service elements specify aspects of Web Map Server behavior that are independent of particular operations or are common to several operations.

=== Version number

The VERSION parameter is mandatory in GetMap and GetFeatureInfo requests. The version number is 1.3.0.

=== Binding

The OGC WMS 1.3.0 standard requires support for HTTP Get. Support for HTTP Post is optional. A SOAP binding is not defined in the standard.

::
*_Requirement 2: A DGIWG Basic WMS server shall support HTTP GET for all operations provided by the server, with parameters encoded in KVP._*

This requirement means that a DGIWG WMS server supports HTTP GET for at least GetCapabilities and GetMap operations. If another operation is provided (i.e. GetFeatureInfo), then HTTP GET has to be supported by this operation as well.

=== Language

::
*_Requirement 3: A DGIWG Basic WMS server shall provide metadata content in a response to a "GetCapabilities" or “GetFeatureInfo” (if supported) request in English language._*

English is required to support interoperability in a coalition environment.

NOTE: Services can also be provided using alternative languages to English: This profile does not specify the details for implementation of multilingual services.

=== Output Formats

The response to a Web Map Service request is always a computer file. The file may contain text, or the file may represent a map image depending on the operation. For the particular operations a DGIWG WMS server shall support the following output formats.

==== Output formats for GetCapabilities request

The response to a GetCapabilities request is always a text file. Base standard require support of the default text/xml.

==== Output formats for GetMap request

The response to a GetMap request is either a raster or vector file.

::
*_Requirement 4: A DGIWG Basic WMS server shall support the following raster formats for the GetMap operation:_*

* *_image/png (Portable Network Graphics)_*

* *_image/gif (Graphics Interchange Format)_*

* *_image/jpeg (Joint Photographics Expert Group)_*



NOTE: GIF is always 8 bits which can be used for limited bandwidth scenario, PNG can be eiter 8, 24 or 32 bits (depending on how it is configured).

*Recommendation 1: If a service requires vector based graphical elements output, a DGIWG WMS server should provide image/svg+xml (Scalable Vector Graphics) for the GetMap operation.*

NOTE: Users should be aware that only the output formats GIF and PNG support transparency.

=== Coordinate Systems

The Web Map Service standard uses two principal classes of Coordinate Systems: a *Map CS* applicable to the map portrayal generated by the WMS, and a *Layer CRS* for a Bounding Box applied to the source data. During a portrayal operation, a WMS converts or transforms geographic information from a Layer CRS into a Map CS. In addition, a Layer may have an associated vertical, temporal or other coordinate system.

==== Map CS

A Map CS is a coordinate reference system for a map produced by a WMS. A WMS map is a rectangular grid of pixels displayed on a computer screen (or a digital file that could be so displayed). The Map CS has a horizontal axis denoted i, and a vertical axis denoted j. i and j shall have only nonnegative integer values. The origin (i,j) =(0,0) is the pixel in the upper left corner of the map; i increases to the right and j increases downward.

==== Layer CRS

A Layer CRS is a horizontal coordinate reference system for the geographic information that serves as the source for a map. A WMS must support at least one CRS, and maps from multiple servers may be overlaid only if all the selected servers support at least one CRS in common.

::
*_Requirement 5: A DGIWG Basic WMS server shall support the following coordinate reference systems:_*

* *_CRS:84 WGS84 geographic longitude, then latitude, expressed in decimal degrees_*

* *_EPSG:4326 WGS84 geographic latitude, then longitude, expressed in decimal degrees_*

* *_EPSG:3395 World Mercator projection_*



Among the following Coordinate Reference Systems, the service shall support all those which validity zone overlaps data published by the service:

* UTM projections over WGS84 (north zones)… EPSG:32601 to EPSG:32660

* UTM projections over WGS84 (south zones)… EPSG:32701 to EPSG:32760

* UPS projection over WGS84 (north zone)… EPSG: 5041

* UPS projection over WGS84 (south zone)… EPSG: 5042

Implementation guidance:

*NOTE 1:* OGC provides implementation guidance about axis order http://www.ogcnetwork.net/axisorder.

*NOTE 2:* Normative Reference 1, Section 7.2.4.6.6 states that: "Every named Layer shall have exactly one <EX_GeographicBoundingBox> element that is either stated explicitly or inherited from a parent Layer”. This is unclear in the base standard. Chapter 7.2.4.6.8 BoundingBox in the base standard states that: The <EX_GeographicBoundingBox> element (7.2.4.6.6) is conceptually similar to a BoundingBox in which the attribute CRS="CRS:84" is implicit. However, <EX_GeographicBoundingBox> shall not be used as a substitute for <BoundingBox CRS="CRS:84">. If the server wishes to provide bounding box information in the CRS:84 CRS, then a separate BoundingBox element explicitly naming CRS:84 shall be included in the service metadata.

This means that Ex_GeographicBoundingBox within a DGIWG server shall always be in CRS="CRS:84".

Some geographic information may be available at other dimensions like for instance elevation or time (3D / 4D). For example, in the case of elevation, atmospheric information like ozone concentrations, may be available at different altitudes. Similarly, geographic information may be available at multiple times, like hourly tidal information.

*NOTE 3:* Appropriate vertical and temporal coordinate systems have to be defined in the context of the particular application.

The verticalCRSid “CRS:88” refers to the vertical CRS defined in B.6 (elevation in meters in the North American Vertical Datum 1988). The unitSymbol “m” would be used. See Normative Reference 1, Annex C “Handling multi-dimensional data” for more information.

=== Request Parameter Rules

Parameter names shall not be case sensitive, but parameter values shall be. Parameters in a request may be specified in any order.

==== Common Request Parameters

There are three common request parameters:

* *Version*: The VERSION parameter specifies the protocol version number.

* *Request*: The REQUEST parameter indicates which service operation is being invoked.

* *Format*: The FORMAT parameter specifies the output format of the response to an operation.



==== Exceptions

The EXCEPTIONS request parameter states the format in which to report errors.

::
*_Requirement 6: A DGIWG Basic WMS server shall provide service exceptions in English language._*

*_NOTE 1:* English is justified in the context of coalitions such as NATO._

*_NOTE 2:* This requirement applies for all provided operations by the server._

==== Extended capabilities and operations

The Web Map Service allows for optional extended capabilities and operations. Extended capabilities or operations shall be defined when necessary by providing instances of the abstract <_ExtendedCapabilities> or <_ExtendedOperations> elements in the service metadata schema.

==  Operations

The WMS Interface offers 3 Operations.

• GetCapabilities (mandatory): Allows for obtaining Service Metadata

• GetMap (mandatory): Returns a map

• GetFeatureInfo (optional): Provides additional information about features in the pictures of maps that were returned by previous GetMap requests


=== GetCapabilities Operation Request

The purpose of the mandatory GetCapabilities operation is to obtain service metadata, which is a machine readable (and human-readable) description of the server’s information content and acceptable request parameter values. Table 3 lists the GetCapabilities request parameters.

[cols=",,",options="header",]

|=======================================================================

|*Request Parameter* a| *OGC* *Mandatory/Optional* |*Description*

|*VERSION=version* |O |Request version

|*SERVICE=WMS* |M |Service type (WMS)

|*REQUEST=GetCapabilities* |M |Request name (GetCapabilities)

|*FORMAT=MIME_type* |O |Output format of service metadata (text/xml)

|*UPDATESEQUENCE=string* |O |Sequence number or string for cache control

|=======================================================================


{empty}[[_Ref363043970]]Table 3: The parameters of a GetCapabilities request URL as per Normative Reference [1]


A DGIWG Basic WMS server supports all GetCapabilities parameters which can be in a GetCapabilities request.

=== GetCapabilities Operation Response

When invoked on a WMS, the response to a GetCapabilities request shall be an XML document containing service metadata formatted according to the XML Schema in annex E.1 of the OGC WMS 1.3 standard Normative Reference [1].

==== Names and titles

A number of elements have both a <Name> and a <Title>. The Name is a text string used for machine-to-machine communication while the Title is for the benefit of humans.

==== General service metadata

The first part of the service metadata is a <Service> element providing general metadata for the server as a whole. It shall include a Name, Title, and Online Resource URL. Optional service metadata includes Abstract, Keyword List, Contact Information, Fees, Access Constraints, and limits the number of layers in a request or the output size of maps.

::
*_Requirement 7: A DGIWG Basic WMS server shall provide all mandatory service metadata elements according to Table 4._*

[cols=",,,",options="header",]

|================================================================================================================================================================================================================================================================ 

^|*Element name* ^| *O/M^1^* *OGC 06-042*  ^| *O/R/M^1^* *DGIWG Basic WMS*  ^|*Description*

|Name |M |M |The Name is typically for machine-to-machine communication

|Title |M |M a|

The Title is for informative display to a human.

For coalition interoperability an English title is mandatory.

*NOTE*: For national use the title can be provided in the national language.

|Abstract |O |M |

See *_Requirement 9_*

If the abstract element is provided in a coalition environment an English abstract is mandatory.

*NOTE*: For national use the abstract can be provided in the national language.

|KeywordList |O |M |List of keywords or keyword phrases to help catalog searching.

|Onlineresource |M |M |An OnlineResource is typically an HTTP URL. The URL is placed in the xlink:href attribute, and the value "simple" is placed in the xlink:type attribute.

|ContactInformation |O |M |

|Fees |O |O |

|AccessConstraints |O |M |See *_Requirement 8_*

|LayerLimit |O |O |The optional <LayerLimit> element in the service metadata is a positive integer indicating the maximum number of layers a client is permitted to include in a single GetMap request. If this element is absent, the server imposes no limit.

|MaxWidth |O |O |

|MaxHeight |O |O |

4+^|^1^ O = Optional, R = Recommended, M = Mandatory, C = Conditional 

|================================================================================================================================================================================================================================================================

[[_Ref477963119]]Table 4: GetCapabilities response – general service metadata

The elements <Fees> and <AccessConstraints> may be omitted in an OGC WMS if they do not apply to the server. If either of those elements is present, the reserved word "none" (case-insensitive) has to be used if there are no fees or access constraints, as follows: <Fees>none</Fees>, <AccessConstraints>none</AccessConstraints>.

::
*_Requirement 8: If content provided by a WMS server is classified, a DGIWG WMS server shall identify the highest classification level of the content accessible through the WMS service by populating the wms:AccessConstraints element._*

In a DGIWG WMS server the AccessConstraints element has always to be used; depending on the context, applicable classification scheme has to be used. For example, in a NATO environment, the common NATO classification scheme has to be applied (see Normative Reference [3] DMF chapter 5.6.1.4 Classification Level Codelist).

Testbed-12 OWS Common Security Extension ER  (https://portal.opengeospatial.org/files/?artifact_id=71729) provides guidance on how to advertise security constraints that apply to OGC Web Services and data.

==== Capability metadata

The <Capability> element of the service metadata names the actual operations that are supported by the server, the output formats offered for those operations, and the URL prefix for each operation. The XML schema includes placeholders for Distributed Computing Platforms other than HTTP, but currently only the HTTP platform is defined.

* *Layers and styles*: Each available map is advertised by a <Layer> element in the service metadata. A server shall include at least one <Layer> element for each map layer offered.

* *Layer properties:* The <Layer> element can enclose child elements providing metadata about the Layer. The values of some of these elements can be inherited by subsidiary layers. The following metadata elements are available:

** *Title:* A <Title> is mandatory for all layers; it is a human-readable string for presentation in a menu. The Title is not inherited by child Layers.

** *Name*: If, and only if, a layer has a <Name>, then it is a map layer that can be requested by using that Name in the LAYERS parameter of a GetMap request. If the layer has a Title but no Name, then that layer is only a category title for all the layers nested within. A containing category itself may include a Name by which a map portraying all of the nested layers can be requested at once. For example, a parent layer "Roads" may have children “Interstates” and “State Highways” and allow the user to request either child individually or both together.

** The elements <**Abstract**> and <**KeywordList**> are optional in the base standard. Abstract is a narrative description of the map layer. KeywordList contains zero or more <Keyword> elements to aid in catalogue searches.

::
*_Requirement 9: A DGIWG basic WMS server shall include the following information in the abstract element of the service metadata: "This service implements the DGIWG WMS 1.3 profile version 3.0, DGIWG Basic WMS conformance class (http://www.dgiwg.org/std/wms/3.0/conf/basic)."_*

::
*_Requirement 10: A DGIWG WMS server shall_ provide a minimum keyword list based on the DGIM (DGIWG Geospatial Information Model) groups._*

*NOTE 1*: Annex F presents groups and subgroups for DGIM 2016-2.0.

*NOTE 2*: Additional keywords may be added to the list as appropriate to support data discovery.

* Zero or more Styles may be advertised for a Layer or collection of layers using <Style> elements, each of which shall have <Name> and <Title> elements.

** The style's *Name* is used in the Map request STYLES parameter.

** The *Title* is a human-readable string. If only a single style is available, that style is known as the “default” style and need not be advertised by the server.

::
*_Requirement 11: A DGIWG WMS server shall provide information (Name and Title) on the supported styles._*

::
*_Requirement 12: A DGIWG WMS server shall always provide at least one style element and that style shall be advertised even if it's only the default style._*

It is considered here that all layers (even raster, scanned maps or imagery data have a style). See below some examples:

- in case of orthoimagerydata, this should be NAME: RGB, TITLE: RGB style for orthoimagery data

- in case of a scanned paper map, this should be NAME: MGCP, TITLE: MGCP style for paper maps

*_Requirement 13: The MaxWidth and MaxHeight shall be greater or equal to 800 pixels or omitted (meaning no constraint)._*

When MaxWidth and MaxHeight are provided, that means that the client can request any image smaller than these two dimensions (this prevents requests for too big images). If not provided, there is no restriction for the size of the image requested.

*<LegendURL> contains the location of an image of a map legend appropriate to the enclosing style.

::
*_Requirement 14: Each layer's style shall have an associated legend if warranted, available as an image in one of the following formats: PNG, GIF or JPEG._*

Following examples would require a legend:

* Quantitative layers (for instance elevation, temperature …) would require a legend to better understand the content returned by the WMS service;

* Topographic layers (either scanned maps or feature based layers);

* …

Imagery data may not require legend to be properly understood.

::
*_Requirement 15: This legend shall be accessible at the URL specified by LegendURL._*

* *Scale denominators*: The <MinScaleDenominator> and <MaxScaleDenominator> elements define the range of scales for which it is appropriate to generate a map of a Layer.

::
*_Requirement 16: When scale denominators are both specified, the <MinScaleDenominator> value shall always be less than or equal to the <MaxScaleDenominator> value._*

*Recommendation 2: A DGIWG WMS service should be configured to serve requests that range from at least 4x to at least 0.25x the native scale(s) or resolution(s) of the underlying datasets".*

*NOTE*: Users should be aware that changing the resolution at a range of 4 times to 0.25 times effects the accuracy of the displayed data significantly and will influence the usability of the data for certain use cases (e.g. measurements in the map).

* *Sample dimensions:* Some geographic information may be available at other dimensions (for example, satellite images in different wavelength bands). The dimensions other than the four space-time dimensions are referred to as “sample dimensions. A DGIWG WMS server may allow for requesting a particular layer along one or more dimensional axes other than time or elevation.

* *MetadataURL:* A server should use one or more <MetadataURL> elements to offer detailed, standardized metadata about the data corresponding to a particular layer. The “type” attribute indicates the standard to which the metadata complies. Two “type” attribute values are defined in ISO 19128:2005, "ISO 19115:2003" and “FGDC:1998”. The enclosed <Format> element indicates the file format MIME type of the metadata record.



*Recommendation 3: In an SDI like architecture, a DGIWG WMS server should provide a link to the metadata resource via a resolvable URL for example to a CSW server.*

* FeatureListURL: A server may use a <FeatureListURL> element to point to a list of the features represented in a Layer. The enclosed Format element indicates the file format MIME type of the feature list.

::
*_Requirement 7: In the GetCapabilities, if any FeatureListURL element appears in a particular layer, then the list of features that are in the particular layer shall be resolvable._*

* DataURL: A server may use DataURL to offer a link to the underlying data represented by a particular layer. The enclosed Format element indicates the file format MIME type of the data file.

::
*_Requirement 18: In the GetCapabilities, if any DataURL element appears in a particular layer, then the underlying data of the particular layer shall be resolvable._*

* *Layer attributes:* A <Layer> may have zero or more of the following XML attributes: queryable, cascaded, opaque, noSubsets, fixedWidth, and fixedHeight. All of these attributes are optional and default to 0. The meaning of each attribute is summarized in Table 54

[cols=",,,",options="header",]

|========================================================================================

|*Attribute* a| *OGC* *allowed values*  a| *DGIWG* *allowed values*  |*Meaning (0 is default value)*

|*queryable* a|

0, false,

1, true

 a|

0, false,

1, true

 a|

0, false: layer is not queryable.

1, true: layer is queryable.

|*cascaded* |0, positive integer |0, positive integer a|

0: layer has not been retransmitted by a Cascading Map Server.

n: layer has been retransmitted _n_ times.

|*Opaque* a|

0, false,

1, true

 a|

0, false,



1, true

 a|

0, false: map data represents vector features that probably do not completely fill space.

1, true: map data are mostly or completely opaque.

|*noSubsets* a|

0, false,

1, true

 |0, false, a|

0, false: WMS can map a subset of the full bounding box.

1, true: WMS can only map the entire bounding box.

|*fixedWidth* |0, positive integer |0, a|

0: WMS can produce map of arbitrary width.

nonzero: value is fixed map width that cannot be changed by the WMS.

|*fixedHeight* |0, positive integer |0, a|

0: WMS can produce map of arbitrary height.

nonzero: value is fixed map height that cannot be changed by the WMS.

|========================================================================================

[[_Ref363068298]]Table 5: Layer attributes

::
*_Requirement 19: A DGIWG WMS server shall provide the Layer Attributes according to Table 5._*

When set to a true value, *noSubsets* indicates that the server is not able to make a map of a geographic area other than the layer's bounding box.

When present and nonzero, *fixedWidth* and *fixedHeight* indicate that the server is not able to produce a map of the layer at a width and height different from the fixed sizes indicated.

According to Table 5 a DGIWG WMS server provides only subsettable (nosubsets=0) and resizable (fixedWidth=0 and fixedHeight=0) layers. As the 0 values are the default values, they do not have to be included explicitly for all layers.

*_Recommendation 4: A DGIWG WMS server offering vector layers should be queryable._*

The Layer metadata may also include three optional attributes that indicate a map server that is less functional than a normal WMS, because it is not able to extract a subset of a larger dataset or because it only serves maps of a fixed size and cannot resize them.



===  GetMap Operation Request

The GetMap operation returns a map. Upon receiving a GetMap request, a WMS shall either satisfy the request or issue a service exception. Table 65 lists the parameters of a GetMap request.

[cols="<,^,^,",options="header",]

|================================================================================================================

^|*Request Parameter* ^| *OGC* *Mandatory/Optional* ^| *DGIWG* *Mandatory/* *Optional/ Conditional* ^|*Description*

|*VERSION=1.3.0* |M |M |Request version.

|*REQUEST=GetMap* |M |M |Request name.

|*LAYERS=layer_list* |M |M |Comma-separated list of one or more map layers.

|*STYLES=style_list* |M |M |Comma-separated list of one rendering style per requested layer.

|*CRS=namespace:identifier* |M |M |Coordinate reference system.

|*BBOX=minx,miny,maxx,maxy* |M |M |Bounding box corners (lower left, upper right) in CRS units.

|*WIDTH=output_width* |M |M |Width in pixels of map picture.

|*HEIGHT=output_height* |M |M |Height in pixels of map picture.

|*FORMAT=output_format* |M |M |Output format of map.

|*TRANSPARENT=TRUE/FALSE* |O |C |Background transparency of map (default=FALSE).

|*BGCOLOR=color_value* |O |O |Hexadecimal red-green-blue color value for the background color (default=0xFFFFFF).

|*EXCEPTIONS=exception_format* |O |M |The format in which exceptions are to be reported by the WMS (default=XML).

|*TIME=time* |O |C |Time value of layer desired.

|*ELEVATION=elevation* |O |C |Elevation of layer desired.

|*Other sample dimension(s)* |O |C |Value of other dimensions as appropriate.

|================================================================================================================

[[_Ref363158505]]Table 6: GetMap request parameters

A DGIWG Basic WMS server support all GetMap request parameters.

* *Styles:* The mandatory STYLES parameter lists the style in which each layer is to be rendered.

* *Width, Height:* The mandatory WIDTH and HEIGHT parameters specify the size in integer pixels of the map to be produced.

* *TRANSPARENT:* The optional TRANSPARENT parameter specifies whether the map background is to be made transparent or not. TRANSPARENT can take on two values, "TRUE" or "FALSE". The default value is FALSE if this parameter is absent from the request.

::
*_Requirement 20: A DGIWG Basic WMS server shall support transparency._*

* *EXCEPTIONS:* The optional EXCEPTIONS parameter defines the format of an error message. XML is mandatory and the default format for exceptions.

** INIMAGE: If the EXCEPTIONS parameter is set to INIMAGE, the WMS shall, upon detecting an error, return an object of the MIME type specified in the FORMAT parameter whose content includes text describing the nature of the error. In the case of a picture format, the error message shall be drawn on the returned picture. In the case of a graphic element format, the text of the error message shall be rendered in the manner that text is normally represented in that format.

::
*_Requirement 21: A DGIWG WMS server shall support the INIMAGE EXCEPTIONS._*

::
** BLANK: If the EXCEPTIONS parameter is set to BLANK, the WMS shall, upon detecting an error, return an object of the type specified in FORMAT whose content is uniformly “off”. In the case of a picture format, that response shall be an image containing only pixels of one color (the background color). In the case of a picture format supporting transparency, if TRANSPARENT=TRUE is specified the pixels shall all be transparent. In the case of a graphic element output format, no visible graphic elements shall be included in the response output.

::
*_Requirement 22: A DGIWG WMS server shall support the BLANK EXCEPTIONS._*

* *Time, Elevation, Other sample dimensions:* An example would be the request for a single ozone map at specified time and height:

Example

http://ageobwserver.org/...?VERSION=1.3.0&REQUEST=GetMap&CRS=CRS:84&BBOX=-180,-90,180,90&WIDTH=600&HEIGHT=300&LAYERS=ozone&TIME=2000-08-03&ELEVATION=1000&FORMAT=image/gif[_http://ageobwserver.org/...?VERSION=1.3.0&REQUEST=GetMap&CRS=CRS:84&BBOX=-180,-90,180,90&WIDTH=600&HEIGHT=300&LAYERS=ozone&TIME=2000-08-03&ELEVATION=1000&FORMAT=image/gif_]



*Recommendation 5: If a DGIWG Basic WMS server provides layers with an elevation parameter, it should support the vertical "ELEVATION" parameter. This parameter should be used in accordance with the "OGC Best Practices for using OGC WMS with Time-Dependent or Elevation-Dependent Data [2]".*

*Recommendation 6: If a DGIWG Basic WMS server provides layers with an time parameter, it should support the temporal "time" parameter. This parameter should be used in accordance with the "OGC Best Practices for using OGC WMS with Time-Dependent or Elevation-Dependent Data [2]".*

*NOTE:* Conformant WMS servers should express the values of the time dimension either as one time interval with non-zero resolution when the temporal dependency of the data is time instants or as a comma separated list of timestamps.

The WMS 1.3 specification allows the possibility to define multiple times as several triplets: start/end/interval. The triplets define sets of time instants that may overlap. It is difficult for a human reader to determine the allowed times of the time dimension. Hence, the time dimension should not be specified as a list of triplets, except if the time instants are regularly spaced with a unique interval of time. If not the time instance should be specified as a comma separated list.

*_Requirement 23: A DGIWG WMS server that announces available sample dimensions in its service metadata shall resolve the corresponding parameters provided in the GetMap operation for requesting these dimensional values._*

Example

_A WMS Layer is described as having an extent along a dimension named “wavelength” as follows:_

_<Dimension name="wavelength" units="Angstrom" unitSymbol="Ao">3000,4000,5000,6000<Dimension>.A GetMap request for a portrayal of the data at 4000 Angstroms would include the parameter “DIM_WAVELENGTH=4000”."_



=== GetMap Response

The response to a valid GetMap request is a map of the spatially referenced information layer requested, in the desired style, and having the specified coordinate reference system, bounding box, size, format and transparency.

=  DGIWG Queryable WMS (normative)

== Normative Requirements

The Normative requirements requested by this conformance class are summarized in Table 7.

Precondition to all requirements.

*PRECONDITION 1: the environment has to provide the location identified by a URL which can be used by the WMS server to make artefacts available to clients. This precondition ensure that any URL provided by the server can be resolvable by the client*.

[cols=",,",options="header",]

|============================================================================================================================================================================================================================================================================

|*No.* |*Requirement* |*Compliance*

|24 |A DGIWG Queryable WMS server shall be compliant to the DGIWG WMS Basic and the Queryable WMS conformance class. |M

|25 |A DGIWG Queryable WMS server shall support text/xml and text/html as output format for the GetFeatureInfo operation. |M

|26 |A DGIWG WMS server shall include the following information in the abstract element of the service metadata: "This service implements the DGIWG WMS 1.3 profile version 3.0, DGIWG Queryable WMS conformance class (http://www.dgiwg.org/std/wms/3.0/conf/queryable)." |M

|27 |A DGIWG Queryable WMS server shall support XML for the EXCEPTIONS parameter of the GetFeatureInfo operation. |M

|============================================================================================================================================================================================================================================================================

[[_Ref482885652]]Table 7: DGIWG Queryable WMS Normative Server Requirements

== Non-Normative Recommendations for Implementation

The non-normative requirements requested by this profile are summarized in Table 8.

[cols=",,",options="header",]

|===================================================================================================================================

|*No.* |*Recommendation* |*Compliance*

|7 |A DGIWG Queryable WMS server should return the units of measure for dimensional values returned in a GetFeatureInfo response. |O

|===================================================================================================================================

[[_Ref482885633]]Table 8: DGIWG WMS Profile Non-normative Recommendations for DGIWG Queryable WMS Server Implementation

== Service Type

The OGC WMS Implementation Specification defines two conformance classes, “Basic WMS” and “Queryable WMS”. A Basic WMS supports the GetCapabilities and GetMap operations (requests and responses); a Queryable WMS includes all Basic WMS operations and an additional GetFeatureInfo operation.

::
*_Requirement 24: A DGIWG Queryable WMS server shall be compliant to the DGIWG WMS Basic and the Queryable WMS conformance classes._*


According to this requirement a DGIWG WMS server shall support the GetCapabilities, GetMap and GetFeatureInfo operations. This requirement ensures compatibility with the base standard

== Basic Service elements

=== Output Formats

The response to a Web Map Service request is always a computer file. The file may contain text, or the file may represent a map image depending on the operation. For the particular operations a DGIWG WMS server shall support the following output formats.

==== Output formats for GetFeatureInfo requests

The response to a GetFeatureInfo request is always a text file.

::
*_Requirement 25: A DGIWG Queryable WMS server shall support text/xml and text/html as output format for the GetFeatureInfo operation._*

== Operations

=== GetCapabilities Operation Response

::
*_Requirement 26: A DGIWG WMS server shall include the following information in the abstract element of the service metadata: "This service implements the DGIWG WMS 1.3 profile version 3.0, DGIWG Queryable WMS conformance class (*__http://www.dgiwg.org/std/wms/3.0/conf/queryable)[http://www.dgiwg.org/std/wms/3.0/conf/queryable__*)*__]_*."_*

*NOTE*: this requirement is in addition to requirement 9 that advertises for support of the DGIWG Basic conformance class. The two conformance classes are then advertises.

=== GetFeatureInfo Operation Request

GetFeatureInfo is an optional operation. It is only supported for those Layers for which the attribute queryable="1" (true) has been defined or inherited. A client shall not issue a GetFeatureInfo request for other layers. A WMS shall respond with a properly formatted service exception (XML) response (code = OperationNotSupported) if it receives a GetFeatureInfo request but does not support it.

The GetFeatureInfo operation is designed to provide clients of a WMS with more information about features in the pictures of maps that were returned by previous Map requests. The canonical use case for GetFeatureInfo is that a user sees the response of a Map request and chooses a point (I,J) on that map for which to obtain more information. The basic operation provides the ability for a client to specify which pixel is being asked about, which layer(s) should be investigated, and what format the information should be returned in.

Because the WMS protocol is stateless, the GetFeatureInfo request indicates to the WMS what map the user is viewing by including most of the original GetMap request parameters (all but VERSION and REQUEST). From the spatial context information (BBOX, CRS, WIDTH, HEIGHT) in that GetMap request, along with the I,J position the user chose, the WMS can (possibly) return additional information about that position.

The parameters of a GetFeatureInfo request are listed in .

[cols=",,",options="header",]

|==============================================================================================================================================================

|*Request Parameter* a| *OGC* *Mandatory/ Optional*  |*Description*

|*VERSION=1.3.0* |M |Request version.

|*REQUEST=GetFeatureInfo* |M |Request name.

|*map request part* |M |Partial copy of the Map request parameters that generated the map for which information is desired.

|*QUERY_LAYERS=layer_list* |M |Comma-separated list of one or more layers to be queried.

|*INFO_FORMAT=output_format* |M |Return format of feature information (MIME type).

|*FEATURE_COUNT=number* |O |Number of features about which to return information (default=1).

|*I=pixel_column* |M |_i_ coordinate in pixels of feature in Map CS.

|*J=pixel_row* |M |_j_ coordinate in pixels of feature in Map CS.

|*EXCEPTIONS=exception_format* |O |The format in which exceptions are to be reported by the WMS (default= XML). Support of text/xml and text/html is mandatory.

|==============================================================================================================================================================

[[_Toc488937754]]Table 9: GetFeatureInfo Request parameters

A DGIWG Queryable WMS server supports all GetFeatureInfo request parameters.

==== Version

The VERSION parameter is mandatory. The value “1.3.0” shall be used for GetFeatureInfo requests that comply with ISO 19128:2005.

==== Request

The REQUEST parameter is mandatory. For GetFeatureInfo, the value “GetFeatureInfo” shall be used.

==== Map request part

The mandatory “map request part” represents a sequence of parameters from the GetMap request that generated the original map. Two of the GetMap parameters are omitted because GetFeatureInfo provides its own values: VERSION and REQUEST. The remainder of the GetMap request shall be embedded contiguously in the GetFeatureInfo request.

==== Query_Layers

The mandatory QUERY_LAYERS parameter states the map layer(s) from which feature information is desired to be retrieved. Its value is a comma-separated list of one or more map layers. This parameter shall contain at least one layer name, but may contain fewer layers than the original GetMap request. If any layer in the QUERY_LAYERS parameter is not defined in the service metadata of the WMS, the server shall issue a service exception (code = LayerNotDefined).

==== INFO_FORMAT

The mandatory INFO_FORMAT parameter indicates what format to use when returning the feature information.

==== Feature_COUNT

The optional FEATURE_COUNT parameter states the maximum number of features per layer for which feature information has to be returned. Its value is a positive integer. The default value is 1 if this parameter is omitted or is other than a positive integer.

*NOTE*: Using a high value for the Feature_COUNT parameter may affect server performance. A server might restrict the number of features for which information is retrievable. This limitation has to be advertised in the capabilities document.

==== I, J

The mandatory I and J request parameters are integers that indicate a point of interest on the map that was produced by the embedded GetMap request (the “map request part” described in 7.4.3.3). The point (I,J) is a point in the (i,j) space defined by the Map CS (see 6.7.2). Therefore:

* the value of I shall be between 0 and the maximum value of the i axis;

* the value of J shall be between 0 and the maximum value of the j axis;

* the point I=0, J=0 indicates the pixel at the upper left corner of the map;

* I increases to the right and J increases downward.

The point (I,J) represents the centre of the indicated pixel.

If the value of I or of J is invalid, the server shall issue a service exception (code = InvalidPoint).

==== EXCEPTIONS

The EXCEPTIONS parameter is optional. If this parameter is absent from the request, the default value is "XML". No other v alues are defined by ISO 19128:2005 for the WMS GetFeatureInfo request. Use of text/html is for the benefit of human readable content.

::
*_Requirement 27: A DGIWG Queryable WMS server shall support XML for the EXCEPTIONS parameter of the GetFeatureInfo operation._*

=== GetFeatureInfo response

The server shall return a response according to the requested INFO_FORMAT if the request is valid, or issue a service exception otherwise. The nature of the response is at the discretion of the service provider, but it shall pertain to the feature(s) nearest to (I,J).

*Recommendation 7: A DGIWG Queryable WMS server should return the units of measure for dimensional values returned in a GetFeatureInfo response.*

= Quality of Service

Quality of service comprises requirements on all the aspects of a connection. A DGIWG WMS server should meet the following guidelines for performance, availability and capacity.

== Non-Normative Recommendations for Implementation

The non-normative requirements requested by this profile are summarized in Table 8.

[cols=",,",options="header",]

|==========================================================================================================================================================================

|*No.* |*Recommendation* |*Compliance*

|8 |For a 470 Kilobytes image, the response time for sending the initial response to a Get Map Request to a view service shall be maximum 5 seconds in normal situation. |O

|9 |The number of simultaneous service requests that a DGIWG WMS server should be able to support is at least 20 per second. |O

|10 |A DGIWG WMS server should be available 99.9% of the time. |O

|==========================================================================================================================================================================

[[_Toc488937755]]Table 10: DGIWG WMS Profile Non-normative Recommendations about quality for DGIWG WMS Server Implementation

== Performance

Recommendation 8: For a 470 Kilobytes image, the response time for sending the initial response to a Get Map Request to a view service shall be maximum 5 seconds in normal situation.

*NOTE*: Normal situation represents periods out of peak load. It is set at 90% of the time.

== Capacity

Recommendation 9: The number of simultaneous service requests that a DGIWG WMS server should be able to support is at least 20 per second.

== Availability

Recommendation 10: A DGIWG WMS server should be available 99.9% of the time.

*NOTE*: This relates to 10 minutes downtime per week, 0.73 hours per month and 8.73 hours per year.

= Annex A – Abstract Test Suite

*(Normative)*

== DGIWG Basic WMS

=== DGIWG Service Type

a.  Test Purpose: Verify that a DGIWG WMS server satisfies all requirements for a OGC Basic WMS conformance class (DGIWG Requirement 1)

b.  Test Method: Submit a GeCapabilities and a GetMap requests to the server and verify that it is providing proper responses.

c.  References: Clauses 7.3

d.  Test Type: Capability

=== DGIWG Basic Service elements

==== DGIWG WMS Binding

a.  Test Purpose: Verify that a DGIWG WMS server supports HTTP Get requests (DGIWG Requirement 2).

b.  Test Methods:

1.  Submit HTTP Get GetCapabilities request and verify that the server is providing a proper response.

2.  Submit HTTP Get GetMap request and verify that the server is providing a proper response.

c.  References: Clauses 7.4.2

d.  Test Type: Capability

==== DGIWG WMS language

a.  Test Purpose: Verify that a DGIWG WMS server content is in English (DGIWG Requirement 3).

b.  Test Methods: Submit HTTP Get GetCapabilities (and GetFeatureInfo if supported) request and verify that text content of the response is in English language.

c.  References: Clauses 7.4.3

d.  Test Type: Capability

==== DGIWG WMS Output format

a.  Test Purpose: Verify that a DGIWG WMS server satisfies all the requirements for supported outputs (DGIWG Requirement 4).

b.  Test Method: Submit requests and verify that the server implements support for:

1.  Submit a GetMap request (FORMAT = image/png) and verify that the response is image/png

2.  Submit a GetMap request (FORMAT = image/gif) and verify that the response is image/gif

3.  Submit a GetMap request (FORMAT = image/jpeg) and verify that the response is image/jpeg

c.  References: Clauses 7.4.4

d.  Test Type: Capability

=== DGIWG WMS CRS

a.  Test Purpose: Verify that a DGIWG WMS server satisfies all the requirements for handling CRS’s (DGIWG Requirement 5).

b.  Test Method:

1.  Submit requests and verify that all supported CRS are advertised for all available data in the XML response (Capabilities document) to a valid GetCapabilities request.

2.  Submit GetMap requests and verify that maps are provided in the mandatory CRSs and the appropriate projections for each validity zone.

c. References: Clauses 7.4.5

d.  Test Type: Capability

=== DGIWG WMS Request Parameters - Exceptions

a. Test Purpose: Verify that a DGIWG WMS server satisfies all the requirements for the exceptions request parameter rule (DGIWG Requirement 6).

b. Test Method: Generate a sample of invalid requests from a client. Verify that the server provides an appropriate response in English.

c.  References: Clauses 7.4.6.2

d.  Test Type: Capability

=== DGIWG WMS Operations

==== DGIWG WMS GetCapabilites Response

a.  Test Purpose: Verify that a DGIWG WMS server satisfies all the requirements for a GetCapabilities operation request (DGIWG Requirements 7 -19).

b.  Test Method:

1.  Submit a GetCapabilities request and verify that the response has all required service metadata elements.

2.  Submit a GetCapabilities request and verify that the response uses <AccessContraints> to identify classification levels for the service.

3.  Submit a GetCapabilities request and verify that the response in the Abstract element contains the following information: " shall include the following information in the abstract element of the service metadata: "This service implements the DGIWG WMS 1.3 profile version 3.0, DGIWG Basic WMS conformance class (http://www.dgiwg.org/std/wms/3.0/conf/basic)."

4.  Submit a GetCapabilities request and verify that the response provides a keywordlist that is based on the DGIM groups.

5. Submit a GetCapabilities request and verify that the response provides information (Name and Title) on the supported styles.

6. Submit a GetCapabilities request and verify that the response provides a defined style for the default style.

7. Submit a GetCapabilities request and verify that the values for MaxWidth and MaxHeight, when used, are greater than or equal to 800 pixels.

8.  Submit a GetCapabilities request and verify that the response provides an associated legend in at least one of the following formats: PNG, GIF, JPEG.

9.  Submit a GetCapabilities request and verify that the provided LegendURL is accessible.

10. Submit a GetCapabilities request and verify that the provided <MinScaleDenominator> value is less than or equal to the <MaxScaleDenominator>.

11. Submit a GetCapabilities request and verify that for all provided FeatureListURLs the list of features is resolvable through the provided URL.

12. Submit a GetCapabilities request and verify that for all provided DatURLs the data is resolvable through the provided URL.

13. Submit a GetCapabilities request and verify that all XML attributes for layers are provided according to Table 54.

c.  References: Clauses 7.5.2.3

d.  Test Type: Capability

==== DGIWG WMS GetMap Request

a.  Test Purpose: Verify that a basic WMS client satisfies all requirements for a GetMap request (DGIWG Requirements 20 - 23).

b.  Test Method:

1.  Submit a GetMap request and verify support for transparency.

2.  Submit a GetMap request and verify support for INIMAGE_EXCEPTIONS.

3.  Submit a GetMap request and verify support for BLANK_EXCEPTIONS.

4. Submit a GetMap request and verify that for WMS servers that advertise sample dimensions resolve corresponding parameters correctly.

c.  References: Clauses 7.5.3

d.  Test Type: Capability

== DGIWG Queryable WMS

=== DGIWG WMS Basic

a.  Test Purpose: Verify that a DGIWG Queryable WMS server satisfies all requirements for a DGIWG Basic WMS (DGIWG Requirement 1 to 23)

b.  Test Method: see Annex A.1

c.  References: Clauses 7

d.  Test Type: Capability

*Note: Requirement 9 shall be replaced by corresponding requirement 26.*

=== DGIWG Service Type

a.  Test Purpose: Verify that a DGIWG WMS server satisfies all requirements for a OGC Queryable WMS conformance class (DGIWG *_Requirement 24_*)

b.  Test Method: Submit a GetFeatureInfo requests to the server and verify that it is providing proper response.

c.  References: Clauses 8.3

d.  Test Type: Capability

=== DGIWG Basic Service elements

==== DGIWG WMS Output format

a.  Test Purpose: Verify that a DGIWG WMS server satisfies all the requirements for supported outputs (DGIWG Requirement 25).

b.  Test Method: Submit requests and verify that the server implements support for:

1.  Submit a GetFeatureInfo request (FORMAT = text/xml) and verify that the response is text/xml.

2.  Submit a GetFeatureInfo request (FORMAT = text/html) and verify that the response is text/html.

a.  References: Clauses 8.4.1

b.  Test Type: Capability

=== DGIWG WMS operations

==== DGIWG WMS GetCapabilites Response

a.  Test Purpose: Verify that a DGIWG WMS server satisfies requirement 26.

b.  Test Method: Submit a GetCapabilities request and verify that the response in the Abstract element contains the following information: " shall include the following information in the abstract element of the service metadata: "This service implements the DGIWG WMS 1.3 profile version 3.0, DGIWG Basic WMS conformance class (http://www.dgiwg.org/std/wms/3.0/conf/basic)."

c.  References: Clauses 8.5.1

d.  Test Type: Capability

==== GetFeature Operation request

a.  Test Purpose: Verify that a DGIWG WMS server satisfies requirement 27.

b.  Test Method: Submit a GetFeatureInfo request (EXEPTIONS = XML) and verify that the response is text/xml.

c.  References: Clauses 8.5.1.7

d.  Test Type: Capability

=  Annex B – Use cases

*(Informative)*

[cols=",,,",options="header",]

|============================================================================================================================================================================================================================================================================================================================================

^|*Type* ^|*Title* ^|*Use Case Description* ^|*Relevance*

|*Discover* |Discover georeferenced information (GI) for task |The ability to locate GI available for exploitation within an application. The Basic User can navigate lists of GI datasets to decide which are appropriate to his task. |The ability to retrieve a list of layers served by WMS through the use of a GetCapabilities request.

|*Discover* |Load GI into applications |The Basic User has identified GI and/or services of interest which have a geospatial context and wishes to use them within the application. |The ability to use WMS to load GI into applications or clients which support the OGC WMS specification.

|*Discover* |Unload GI from application |The Basic User wishes to unload data or services from application |The ability to remove connections to WMS services or hide visibility of layers using clients which support the OGC WMS specification

|*Create* |Populate Metadata |The Advanced User populates pre-defined metadata fields. |The ability to add descriptive information about a data service and layer in the <Abstract>

|*Create* |Link textual/audio/visual data to GeoINT |The Advanced User links textual / audio / visual data to GI. |The ability to incorporate URL links to other documents and resources within WMS attributes.

|*Create* |Create Custom Symbology (S) |The Advanced User creates/edits custom symbology and saves it. |The ability to define how layers should be symbolised within a WMS map service, including thematic ranges.

|*Analysis* |Identify Query GI at a pixel/feature/object on the display |The Basic User queries information about GI for a pixel/feature/object on the display. |The ability to perform a GetFeatureInfo request to retrieve information about a feature at a specific location.

|*Analysis* |Select features/objects based on spatial extent |The Basic User selects features/objects based on a spatial extent in a graphical display. |The ability to display map features following the submission of a request containing a bounding box map extent.

|*Analysis* |Select GI based on temporal data |The Basic User selects GI based on temporal data. |The ability to submit a GetMap request incorporating a time parameter to retrieve data for a specific point in time

|*Analysis* |Select Raster or Grid Cells |The Advanced User selects raster or grid cells based on cell or cell values |The ability to query raster data values in WMS layers and display them thematically based on their value

|*Display* |View 2D and/or 3D GI |The Basic User views 2D and/or 3D GI (including GeoINF (base mapping), GeoINT and other geo-referenced information) rendered in an appropriate manner vector and/or raster in a single coherent view. |The ability to view 2D data presented as a map image

|*Display* |View the quality, accuracy or confidence level of the GI |The Basic User views the quality, accuracy or confidence level of the GI. |The ability to view additional information about the accuracy of a layer as part of its metadata

|*Display* |Set the scale threshold at which data shall be displayed (for user created data) |The Advanced User sets the scale threshold at which user created data shall be displayed. |The ability to define zoom scale thresholds for the appearance of layers

|*Display* |Display Legend |The Basic User views a display legend and the corresponding real-world objects. |The ability to view a legend containing representations of each layer’s symbology

|*Display* |Projections and Datums Views |The Basic User views GI displayed using a pre-defined operational datum and views GeoINF in the approved projection for the area and the data provided. |The ability to display data in defined projections

|*Display* |Projections and Datums Changes (S) |The Advanced User changes the projection of the display or the datum to another approved projection/datum. |The ability to modify projections used to display data

|*Display* |View Temporal sequences of environmental events |The Basic User views temporal sequences of environmental events. |The ability to submit a GetMap request incorporating a time parameter to retrieve data for a specific point in time

|*Display* |Layer Display and Management |The Basic User performs layer display and management functions |The ability to define layer ordering within a map service and define which layers to request for display.

|*Display* |View GI Labels |The Basic User views the GI labels and turns off the label display. |The ability to present labels as layers within the WMS

|*Display* |View GI Attributes |The Basic User view the attributes or metadata of the GI. |The ability to query a feature within a WMS layer to retrieve associated information or view related metadata

|*Share or Export* |Share User Created GI (Advanced User) |The Advanced User shares user created GI to LAN or WAN or other users cross domain. |The ability to share access to data through WMS services.

|*Share or Export* |Publish to Web Service |The Advanced User can publish to a Web Service to support the sharing of GI to other users and applications. |The ability to publish data via WMS services.

|*Share or Export* |Unpublish from a Web Service |The Advanced User can unpublish GI from a web service which has been previously been published. |The ability to remove data from being published via the WMS.

|============================================================================================================================================================================================================================================================================================================================================

=  Annex C – Examples

*(Informative)*

*Example of a Profile Compliant GetCapabilities Response (Does not include Best Practice Below)*

This response is compliant with the profile and can be objectively tested.

The parts of the GetCapabilities, highlighted in yellow and contained within remarks <!-- "Remarks" -->, if omitted would still provide a compliant GetCapabilities Response.

This GetCapabilites Response returns a Category Layer “MGCP” and 3 Named Layers:

* “MGCP_Transportation”

* “MGCP_Boundaries”

* “MGCP_Administration”

[source, xml]
----
<?xml version="1.0" encoding="UTF-8"?>
<WMS_Capabilities
version="1.3.0"
xmlns="http://www.opengis.net/wms"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:xlink="http://www.w3.org/1999/xlink"
xsi:schemaLocation="http://www.opengis.net/wms http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd">
    <Service>
        <Name>WMS</Name>
        <Title>DGIWG test implementation of DGIWG WMS profile</Title>
        <Abstract>This is provided to test the development of a profile for WMS, This service implements the DGIWG WMS 1.3 profile version 1.0. </Abstract>
        <KeywordList>
            <Keyword vocabulary="https://www.dgiwg.org/FAD/">Transportation</Keyword>
            <Keyword vocabulary="https://www.dgiwg.org/FAD/">Military</Keyword>
            <Keyword vocabulary="https://www.dgiwg.org/FAD/">SocioEconomicGeography</Keyword>
            <Keyword vocabulary="ISO 19115:2003”">transportation</Keyword>
            <Keyword vocabulary="ISO 19115:2003”">society</Keyword>
            <Keyword vocabulary="ISO 19115:2003”">intelligenceMilitary</Keyword>
            <Keyword>DGIWG</Keyword>
        </KeywordList>
        <OnlineResource xlink:type="simple" xlink:href="https://www.dgiwg.org"/>
        <!--No requirement on LayerLimit value. If omitted would still produce a compliant GetCapabilities -->
        <LayerLimit>25</LayerLimit>
        <!--MaxWidth and MaxHeight if omitted would still produce a compliant GetCapabilities -->
        <MaxWidth>800</MaxWidth>
        <MaxHeight>800</MaxHeight>
    </Service>
    <Capability>
        <Request>
            <GetCapabilities>
                <Format>text/xml</Format>
                <Format>text/html</Format>
                <DCPType>
                    <HTTP>
                        <Get>
                            <OnlineResource xlink:type="simple" xlink:href="https://myServer.com/WMS"/>
                        </Get>
                    </HTTP>
                </DCPType>
            </GetCapabilities>
            <GetMap>
                <Format>image/jpeg</Format>
                <Format>image/png</Format>
                <Format>image/gif</Format>
                <DCPType>
                    <HTTP>
                        <Get>
                            <OnlineResource xlink:type="simple" xlink:href="https://myServer.com/WMS"/>
                        </Get>
                    </HTTP>
                </DCPType>
            </GetMap>
            <GetFeatureInfo>
                <Format>text/xml</Format>
                <Format>text/html</Format>
                <DCPType>
                    <HTTP>
                        <Get>
                            <OnlineResource xlink:type="simple" xlink:href="https://myServer.com/WMS"/>
                        </Get>
                    </HTTP>
                </DCPType>
            </GetFeatureInfo>
        </Request>
        <Exception>
            <Format>INIMAGE</Format>
            <Format>XML</Format>
            <Format>BLANK</Format>
        </Exception>
        <!-- this is a hierarchical layer -->
        <Layer>
            <Name>MGCP</Name>
            <Title>MGCP layer</Title>
            <Abstract>This layer has been generated from MGCP data at 1/50K scale. </Abstract>
            <KeywordList>
                <Keyword vocabulary="https://www.dgiwg.org/FAD/">Railways</Keyword>
                <Keyword vocabulary="https://www.dgiwg.org/FAD/">RoadsTracks</Keyword>
                <Keyword vocabulary="https://www.dgiwg.org/FAD/">AirTransportation</Keyword>
                <Keyword vocabulary="https://www.dgiwg.org/FAD/">Restricted Areas and/or Boundaries</Keyword>
                <Keyword vocabulary="https://www.dgiwg.org/FAD/">Politics and/or Administration</Keyword>
            </KeywordList>
            <CRS>CRS:84</CRS>
            <CRS>EPSG:4326</CRS>
            <CRS>EPSG:3395</CRS>
            <EX_GeographicBoundingBox>
                <westBoundLongitude>-10.1535960995563</westBoundLongitude>
                <eastBoundLongitude>4.28847853801868</eastBoundLongitude>
                <southBoundLatitude>49.1760995690644</southBoundLatitude>
                <northBoundLatitude>62.1716681019098</northBoundLatitude>
            </EX_GeographicBoundingBox>
            <BoundingBox CRS="CRS:84" minx="-10.1535960995563" miny="49.1760995690644" maxx="4.28847853801868" maxy="62.1716681019098"/>
            <BoundingBox CRS="EPSG:4326" minx="49.1760995690644" miny="-10.1535960995563" maxx="62.1716681019098" maxy="4.28847853801868"/>
            <BoundingBox CRS="EPSG:3395" minx="-1130293.14752318" miny="6255875.09329192" maxx="477391.247130122" maxy="8840315.18828581"/>
            <!-- This is layer 1 with transportation features -->
            <Layer queryable="1" noSubsets="0" fixedWidth="0" fixedHeight="0" opaque="0">
            <!-- Layer queryable=”0” would also be valid -->
                <Name>MGCP_Transportation</Name>
                <Title>MGCP transportation layer</Title>
                <Abstract>This layer contains transportation features from MGCP data.</Abstract>
                <KeywordList>
                    <Keyword vocabulary="https://www.dgiwg.org/FAD/">Railways</Keyword>
                    <Keyword vocabulary="https://www.dgiwg.org/FAD/">RoadsTracks</Keyword>
                    <Keyword vocabulary="https://www.dgiwg.org/FAD/">AirTransportation</Keyword>
                </KeywordList>
                <CRS>CRS:84</CRS>
                <CRS>EPSG:4326</CRS>
                <CRS>EPSG:3395</CRS>
                <CRS>EPSG:32628</CRS>
                <!-- Following CRS are UTM zones -->
                <CRS>EPSG:32629</CRS>
                <CRS>EPSG:32630</CRS>
                <CRS>EPSG:32631</CRS>
                <EX_GeographicBoundingBox>
                    <westBoundLongitude>-9.49713815455354</westBoundLongitude>
                    <eastBoundLongitude>3.6320205928561</eastBoundLongitude>
                    <southBoundLatitude>49.7668072354576</southBoundLatitude>
                    <northBoundLatitude>61.4645902255622</northBoundLatitude>
                </EX_GeographicBoundingBox>
                <BoundingBox CRS="CRS:84" minx="-9.49713815455354" miny="49.7668072354576" maxx="3.6320205928561" maxy="61.4645902255622"/>
                <BoundingBox CRS="EPSG:4326" minx="49.7668072354576" miny="-9.49713815455354" maxx="61.4645902255622" maxy="3.6320205928561"/>
                <BoundingBox CRS="EPSG:3395" minx="-1057216.58335827" miny="6373349.64406279" maxx="404314.682947424" maxy="8695713.5043031"/>
                <BoundingBox CRS="EPSG:32628" minx="793024.68315553" miny="5527248.51711237" maxx="1837454.99286334" maxy="6956813.88497105"/>
                <BoundingBox CRS="EPSG:32629" minx="464199.601699745" miny="5512703.78924251" maxx="1408401.65601044" maxy="6879829.43013705"/>
                <BoundingBox CRS="EPSG:32630" minx="32287.7441544105" miny="5512703.78916081" maxx="977414.853119147" maxy="6832515.66692919"/>
                <BoundingBox CRS="EPSG:32631" minx="-398729.782539505" miny="5512703.78912287" maxx="545513.62628886" maxy="6878440.59046608"/>
                <MetadataURL type="urn:dgiwg:metadata:dmf:1.0:profile:all">
                    <Format>text/xml</Format>
                    <OnlineResource xlink:type="simple" xlink:href="http://myServer.com/cswservice/csw?service=CSW&amp;version=2.0.2&amp;Request=GetRecordById&amp;id=123456"/>
                </MetadataURL>
                <DataURL>
                    <Format></Format>
                    <OnlineResource></OnlineResource>
                </DataURL>
                <FeatureListURL>
                    <Format>text/xml</Format>
                    <OnlineResource xlink:type="simple" xlink:href="http://myServer.com/MGCPFeatureList.xml"/>
                </FeatureListURL>
                <Style>
                    <Name>default</Name>
                    <Title>default MGCP style</Title>
                    <LegendURL width="200" height="600">
                    <Format>image/png</Format>
                    <OnlineResource xlink:href="http://myServer.com/MGCPLegend.png" xlink:type="simple"/>
                    </LegendURL>
                </Style>
                <MinScaleDenominator>12500</MinScaleDenominator>
                <MaxScaleDenominator>200000</MaxScaleDenominator>
            </Layer>
            <!-- This is layer 2 with boundaries features -->
            <Layer queryable="1" noSubsets="0" fixedWidth="0" fixedHeight="0" opaque="0">
            <!-- Layer queryable=”0” would also be valid -->
                <Name>MGCP_Boundaries</Name>
                <Title>MGCP boundaries layer</Title>
                <Abstract>This layer contains boundaries and administration features from MGCP data.</Abstract>
                <KeywordList>
                    <Keyword vocabulary="https://www.dgiwg.org/FAD/">Restricted Areas and/or Boundaries</Keyword>
                </KeywordList>
                <CRS>CRS:84</CRS>
                <CRS>EPSG:4326</CRS>
                <CRS>EPSG:3395</CRS>
                <!-- Following CRS are UTM zones -->
                <CRS>EPSG:32628</CRS>
                <CRS>EPSG:32629</CRS>
                <CRS>EPSG:32630</CRS>
                <CRS>EPSG:32631</CRS>
                <EX_GeographicBoundingBox>
                    <westBoundLongitude>-9.49713815455354</westBoundLongitude>
                    <eastBoundLongitude>3.6320205928561</eastBoundLongitude>
                    <southBoundLatitude>49.7668072354576</southBoundLatitude>
                    <northBoundLatitude>61.4645902255622</northBoundLatitude>
                </EX_GeographicBoundingBox>
                <BoundingBox CRS="CRS:84" minx="-9.49713815455354" miny="49.7668072354576" maxx="3.6320205928561" maxy="61.4645902255622"/>
                <BoundingBox CRS="EPSG:4326" minx="49.7668072354576" miny="-9.49713815455354" maxx="61.4645902255622" maxy="3.6320205928561"/>
                <BoundingBox CRS="EPSG:3395" minx="-1057216.58335827" miny="6373349.64406279" maxx="404314.682947424" maxy="8695713.5043031"/>
                <BoundingBox CRS="EPSG:32628" minx="793024.68315553" miny="5527248.51711237" maxx="1837454.99286334" maxy="6956813.88497105"/>
                <BoundingBox CRS="EPSG:32629" minx="464199.601699745" miny="5512703.78924251" maxx="1408401.65601044" maxy="6879829.43013705"/>
                <BoundingBox CRS="EPSG:32630" minx="32287.7441544105" miny="5512703.78916081" maxx="977414.853119147" maxy="6832515.66692919"/>
                <BoundingBox CRS="EPSG:32631" minx="-398729.782539505" miny="5512703.78912287" maxx="545513.62628886" maxy="6878440.59046608"/>
                <MetadataURL type="urn:dgiwg:metadata:dmf:1.0:profile:all">
                    <Format>text/xml</Format>
                    <OnlineResource xlink:type="simple" xlink:href="http://myServer.com/cswservice/csw?service=CSW&amp;version=2.0.2&amp;Request=GetRecordById&amp;id=123456"/>
                </MetadataURL>
                <DataURL>
                    <Format></Format>
                    <OnlineResource></OnlineResource>
                </DataURL>
                <FeatureListURL>
                    <Format>text/xml</Format>
                    <OnlineResource xlink:type="simple" xlink:href="http://myServer.com/MGCPFeatureList.xml"/>
                </FeatureListURL>
                <Style>
                    <Name>default</Name>
                    <Title>default MGCP style</Title>
                    <LegendURL width="200" height="600">
                        <Format>image/png</Format>
                        <OnlineResource xlink:href="http://myServer.com/MGCPLegend.png" xlink:type="simple"/>
                    </LegendURL>
                </Style>
                <MinScaleDenominator>125000</MinScaleDenominator>
                <MaxScaleDenominator>200000</MaxScaleDenominator>
            </Layer>
            <!-- This is layer 3 with administration features -->
            <Layer queryable="1" noSubsets="0" fixedWidth="0" fixedHeight="0" opaque="0">
            <!-- Layer queryable=”0” would also be valid -->
                <Name>MGCP_Administration</Name>
                <Title>MGCP administration layer</Title>
                <Abstract>This layer contains administration features from MGCP data.</Abstract>
                <KeywordList>
                    <Keyword vocabulary="https://www.dgiwg.org/FAD/">Politics and/or Administration</Keyword>
                </KeywordList>
                <CRS>CRS:84</CRS>
                <CRS>EPSG:4326</CRS>
                <CRS>EPSG:3395</CRS>
                <!-- Following CRS are UTM zones -->
                <CRS>EPSG:32628</CRS>
                <CRS>EPSG:32629</CRS>
                <CRS>EPSG:32630</CRS>
                <CRS>EPSG:32631</CRS>
                <EX_GeographicBoundingBox>
                    <westBoundLongitude>-9.49713815455354</westBoundLongitude>
                    <eastBoundLongitude>3.6320205928561</eastBoundLongitude>
                    <southBoundLatitude>49.7668072354576</southBoundLatitude>
                    <northBoundLatitude>61.4645902255622</northBoundLatitude>
                </EX_GeographicBoundingBox>
                <BoundingBox CRS="CRS:84" minx="-9.49713815455354" miny="49.7668072354576" maxx="3.6320205928561" maxy="61.4645902255622"/>
                <BoundingBox CRS="EPSG:4326" minx="49.7668072354576" miny="-9.49713815455354" maxx="61.4645902255622" maxy="3.6320205928561"/>
                <BoundingBox CRS="EPSG:3395" minx="-1057216.58335827" miny="6373349.64406279" maxx="404314.682947424" maxy="8695713.5043031"/>
                <BoundingBox CRS="EPSG:32628" minx="793024.68315553" miny="5527248.51711237" maxx="1837454.99286334" maxy="6956813.88497105"/>
                <BoundingBox CRS="EPSG:32629" minx="464199.601699745" miny="5512703.78924251" maxx="1408401.65601044" maxy="6879829.43013705"/>
                <BoundingBox CRS="EPSG:32630" minx="32287.7441544105" miny="5512703.78916081" maxx="977414.853119147" maxy="6832515.66692919"/>
                <BoundingBox CRS="EPSG:32631" minx="-398729.782539505" miny="5512703.78912287" maxx="545513.62628886" maxy="6878440.59046608"/>
                <MetadataURL type="urn:dgiwg:metadata:dmf:1.0:profile:all">
                    <Format>text/xml</Format>
                    <OnlineResource xlink:type="simple" xlink:href="http://myServer.com/cswservice/csw?service=CSW&amp;version=2.0.2&amp;Request=GetRecordById&amp;id=123456"/>
                </MetadataURL>
                <DataURL>
                    <Format></Format>
                    <OnlineResource></OnlineResource>
                </DataURL>
                <FeatureListURL>
                    <Format>text/xml</Format>
                    <OnlineResource xlink:type="simple" xlink:href="http://myServer.com/MGCPFeatureList.xml"/>
                </FeatureListURL>
                <Style>
                    <Name>default</Name>
                    <Title>default MGCP style</Title>
                    <LegendURL width="200" height="600">
                        <Format>image/png</Format>
                        <OnlineResource xlink:href="http://myServer.com/MGCPLegend.png" xlink:type="simple"/>
                    </LegendURL>
                </Style>
                <MinScaleDenominator>125000</MinScaleDenominator>
                <MaxScaleDenominator>200000</MaxScaleDenominator>
            </Layer>
        </Layer>
    </Capability>
</WMS_Capabilities>
----

= Annex D – Client Requirements and Recommendations

The Normative client requirements requested by this profile are summarized in Table 11

[cols=",,",options="header",]

|==================================================================================================================================================================================================================================================

|*No.* a| *Requirement*  |*Compliance*

|1 
a|A DGIWG WMS client shall support access to a Queryable WMS by supporting the GetFeatureInfo request to enable the querying of all layers.
a|M

|2 
a| A DGIWG WMS client shall support HTTP GET.
a|M

|3 
a|A DGIWG WMS client shall support text/xml and text/html output formats of the GetCapabilities and the GetFeatureInfo Operations.
a|M

|4 
a|A DGIWG WMS client shall provide metadata content in a response to a "GetCapabilities" or “GetFeatureInfo” request in English language.
a|M

|5 
a|
A DGIWG WMS client shall support the following raster formats for the GetMap operation:

• image/png (Portable Network Graphics)

• image/gif (Graphics Interchange Format)

• image/jpeg (Joint Photographics Expert Group)
a|M

|6 
a|A DGIWG WMS client shall support the following coordinate reference systems:

• CRS:84 WGS84 geographic longitude, then latitude, expressed in decimal degrees

• EPSG:4326 WGS84 geographic latitude, then longitude, expressed in decimal degrees

• EPSG:3395 World Mercator projection

• UTM projections over WGS84 (north zones)… EPSG:32601 to EPSG:32660

• UTM projections over WGS84 (south zones)… EPSG:32701 to EPSG:32760

• UPS projection over WGS84 (north zone)…… EPSG:32661

• UPS projection over WGS84 (south zone)…… EPSG:32761
a|M

|7 
a|A DGIWG WMS client shall support service exceptions in English language.
a|M

|8 
a|A DGIWG WMS client shall support all GetCapabilities request parameters.
a|M

|9 
a|A DGIWG WMS client shall support all mandatory and optional service metadata elements.
a|M

|10 
a|A DGIWG WMS client shall be able to utilize classification levels of the content accessible through the WMS service by the wms:AccessConstraints element.
a|M

|13 
a|A DGIWG WMS client shall use style information to display the given information.
a|M

|14 
a|*_A DGIWG WMS server requirement only;* normative requirements (mandatory) for a WMS 1.3 server implementation are found in Table 1. DGIWG WMS Profile Normative Requirements_
a|_N.A._

|15 
a|A DGIWG WMS client shall support MaxWidth and MaxHeight elements.
a|M

|16 
a|A DGIWG WMS client shall support associated legends for vector data layers available as an image in one of the following formats: PNG, GIF or JPEG.
a|M

|17 
a|A DGIWG WMS client shall support LegendURL.
a|M

|18 
a|A DGIWG WMS client shall support scale denominators for all layers.
a|M

|19 
a|*_A DGIWG WMS server requirement only;* normative requirements (mandatory) for a WMS 1.3 server implementation are found in Table 1. DGIWG WMS Profile Normative Requirements_
a| _N.A._

|20 
a|A DGIWG WMS client shall support FeatureListURL to list and display the features provided through the given URL.
a|C

|21 
a|A DGIWG WMS server requirement only; normative requirements (mandatory) for a WMS 1.3 server implementation are found in Table 1. DGIWG WMS Profile Normative Requirements
a|_N.A._

|22 
a|A DGIWG WMS server requirement only; normative requirements (mandatory) for a WMS 1.3 server implementation are found in Table 1. DGIWG WMS Profile Normative Requirements
a|_N.A._

|23 
a|A DGIWG WMS client shall support all GetMap request parameters.
a|M

|24 
a|A DGIWG WMS client shall support transparency.
a|M

|25 
a|A DGIWG WMS client shall support the INIMAGE EXCEPTIONS.
a|M

|26 
a|A DGIWG WMS client shall support the BLANK EXCEPTIONS.
a|M

|27 
a|A DGIWG WMS client shall support multi-dimensional data by supporting the vertical Elevation and temporal Time request parameters in accordance with the "OGC Best Practices for using OGC WMS with Time-Dependent or Elevation-Dependent Data [2]"
a|M

|28 
a|A DGIWG WMS client shall resolve sample dimensions by adding additional parameters to the GetMap request.
a|M

|29 
a|A DGIWG WMS client shall support the FEATURE_COUNT parameter.
a|M

|30 
a|A DGIWG WMS client shall support the EXCEPTIONS parameter support of text/xml and text/html. Use of text/html is for the benefit of human readable content.
a|M

|31 
a|A DGIWG WMS client shall support the INFO_Format parameter.
a|M

|32 
a|A DGIWG WMS client shall display the units of measure for dimensional values returned in a GetFeatureInfo response.
a|M

|33 
a|A DGIWG WMS client shall provide a user interface to hide and show individual layers in the service.
a|M

|==================================================================================================================================================================================================================================================

[[_Ref394433751]]Table 11: Normative client requirements

The non-normative client recommendations requested by this profile are summarized in Table 12

[cols=",,",options="header",]

|=================================================================================================================================================================

^|*No.* ^|*Recommendation* ^|*Compliance*

|1 
a|If a service requires vector based graphical elements output, A DGIWG WMS client should provide image/svg+xml (Scalable Vector Graphics) for the GetMap operation.
|O

|2 
a|A DGIWG WMS client should be able to display legends also for raster layers representing numeric data like for instance elevation or temperature data.
|O

|3 
a|A DGIWG WMS client should provide a link to the metadata resource via a resolvable URL for example to a CSW server.
|O

|4 
a|A DGIWG WMS client should be able to connect to, display and overlay multiple services at the same time.
|O

|=================================================================================================================================================================

[[_Ref394433891]]Table 12: DGIWG WMS Profile Non-normative Recommandations for Client Implementation

=  Annex E – UTM Grid and MGRS Grid System Handling in WMS Clients and Portals

*(Informative)*

The Universal Transverse Mercator (UTM) Grid and Military Grid Reference System (MGRS) Grid values are commonly used by military operational staff to exchange positions. They both are based on an underlying set of Universal Transverse Mercator projections based on horizontal cylinders which are distributed around the earth (there is a different projection for each six degrees of longitude). UTM projection values tend to be large numbers (a pair of x and y numbers) so to make these easier to deal with by humans, two grid systems (UTM Grid and MGRS Grid) are used. Both allocate grid cells across the world, using the ‘Zone’ between 1 and 60 to define the UTM Projection and a letter to define the vertical dimension.

image:/media/image2.png[image,500,600]

*UTM Zones and Cell letters*

So the intersection of the equator and Greenwich Meridian intersect (lat long 0,0) exists in several overlapping cells including 31N. Within a cell, UTM Grid simply allocates values based on x and y increments in the projection, so: Lat Long 0, 0 would be UTM Grid 31N 0166021 0000000. MGRS however further subdivides the square into more lettered squares, and so would be 31N AA 66021 00000 (see below).



image:/media/image3.png[image,500,600]

*MGRS Cell names*

*Issues associated with UTM Grid and MGRS Grid Values in WMS Services*

Firstly, there is the issue of using UTM Grid and MGRS Grid Coordinates. It is unlikely that client applications will want to request WMS display areas using either of these grid values, as client applications are unlikely to internally use these Grids. Most client applications convert the grid values to numeric Universal Transverse Mercator values using a table (associating the cell with an X/Y coordinate in UTM projection) and then work in UTM coordinates.

Additionally there is an issue with treating a UTM Grid or MGRS Grid as a coordinate reference system as there is no defined separation between ordinates (the Cell names of AA etc. embody both X and Y) and therefore it is impossible to define individual ordinates or an axis order which is mandatory for a CRS. Most common is for dialogs or entry methods that support the grids to be included, and a conversion applied (which is as stated a simple table look up). This is also true for querying where clicking on the map generates a grid value.

While it is quite possible to implement this in JavaScript another approach is to have a web service (maybe WPS or a simple Restful service) which takes a Lat/Long or UTM value and generates a UTM grid or MGRS grid value and vice versa.

*Displaying UTM Grid and MGRS Grid*

A typical approach here is to have a Web Map Service which simply displays the relevant UTM Grid or MGRS Grid at the correct resolution (see the examples above). This can then be simply added as a layer to the client over the background WMSs. Configuration of level of detail, colour style etc. is also potentially a requirement but this is a fairly simple service to produce and is really unrelated to the coordinate system issues. However it would be possible for it to provide a ‘GetFeatureInfo’ service which returned the coordinate values in one or more grid systems that it is presenting.

It is not uncommon for most military focused client software packages (example below) which in many cases exploit WMS to provide all of the above capabilities (including a UTM Grid and MGRS Grid Helper, and Visualisation of the grids).

image:/media/image4.png[image,300,250] image:/media/image5.png[image,270,270]

*MapLink Pro MGRS/UTM Entry/Conversion and WMS Grid display (Lat Long/MGRS)*

=  Annex F – DGIM groups and subgroups in baseline 2016-2.0

This annex shows the groups and subgroups in the DGFCD, as in DGIF baseline 2016-2.0. Each group and each subgroup is uniquely identified by either one of these two fields: alphaCode (_name)_ and 531-Code (_alias)_.

Each subgroup belongs to exactly one group. One group (Abstract – G22) is not related to any subgroup.

Group G01: IndustriesServices

* Subgroup SG0101: Extraction

* Subgroup SG0102: FabricationProcessing

* Subgroup SG0103: Agriculture

* Subgroup SG0104: PowerSupplies

* Subgroup SG0105: Communication

* Subgroup SG0106: AssociatedSupportStruct

* Subgroup SG0107: StorageProvision

* Subgroup SG0108: WasteManagement

Group G02: SocioEconomicGeography

* Subgroup SG0201: Habitats

* Subgroup SG0202: SettlementsAssociated

* Subgroup SG0203: EconomicCommercial

* Subgroup SG0204: Leisure

* Subgroup SG0205: PoliticsAdministration

* Subgroup SG0206: SciencesEducation

* Subgroup SG0207: CulturalContext


Group G03: Transportation


* Subgroup SG0301: Railways

* Subgroup SG0302: RoadsTracks

* Subgroup SG0303: GuidedTransportation

* Subgroup SG0304: WaterBorneTransportation

* Subgroup SG0305: AirTransportation

* Subgroup SG0306: Restrictions

* Subgroup SG0307: CrossingsLinks

* Subgroup SG0308: TransportationAssociated

* Subgroup SG0309: SpaceTransportation

* Subgroup SG0310: DistributionNetworks


Group G04: HydrographyOceanography


* Subgroup SG0401: CoastalLittoralZones

* Subgroup SG0402: PortsHarbours

* Subgroup SG0403: Depths

* Subgroup SG0404: NatureOfSeabed

* Subgroup SG0405: OffshoreConstructInstall

* Subgroup SG0406: TidesCurrents

* Subgroup SG0407: RoutesNavigation

* Subgroup SG0408: HazardsObstructions

* Subgroup SG0409: SeaIce

* Subgroup SG0410: RegulatedRestrictedZones

* Subgroup SG0411: InlandWaters

* Subgroup SG0412: PhysicsOfWater


Group G05: Physiography


* Subgroup SG0501: Hypsography

* Subgroup SG0502: Geomorphology

* Subgroup SG0503: Rocks

* Subgroup SG0504: Soils

* Subgroup SG0505: NaturalResources

* Subgroup SG0506: SeismologyVolcanology

* Subgroup SG0507: Glaciers

* Subgroup SG0508: Anomalies

* Subgroup SG0509: GlobalEarthCover


Group G06: Biota


* Subgroup SG0601: CultivatedLand

* Subgroup SG0602: Rangeland

* Subgroup SG0603: Woodland

* Subgroup SG0604: Wetland

* Subgroup SG0605: AridAreas

* Subgroup SG0606: RegionsRestrictedAreas

* Subgroup SG0607: Fauna

* Subgroup SG0608: Flora


Group G07: Demarcation



* Subgroup SG0701: BoundariesLimits

* Subgroup SG0702: LandSurveyRealEstate


Group G08: Aeronautical


* Subgroup SG0801: AerodromesMoveSurfLighting

* Subgroup SG0802: AirspaceRoutes

* Subgroup SG0803: NavaidsLandAidsPointsObst

* Subgroup SG0804: ServicesOrgsTimetables

* Subgroup SG0805: TerminalProcedures


Group G09: Military


* Subgroup SG0901: DefensiveOperationalStruct

* Subgroup SG0902: RestrictedAreasBoundaries

* Subgroup SG0903: OperationsEvents


Group G12: WeatherClimate


* Subgroup SG1001: WeatherPhenomena

* Subgroup SG1002: ClimateConditions

* Subgroup SG1003: ClimateZonesRegions


Group G11: Characteristics


* Subgroup SG2001: Position

* Subgroup SG2002: MeasurableValues

* Subgroup SG2003: DatesDurations

* Subgroup SG2004: Appearance

* Subgroup SG2005: FunctionStatus


Group G20: NamesDesignations


* Subgroup SG2101: Names

* Subgroup SG2102: Designations


Group G21: MetadataReferences


* Subgroup SG2201: Annotation

* Subgroup SG2202: Portrayal

* Subgroup SG2203: DateCurrency

* Subgroup SG2204: Quality

* Subgroup SG2205: ReferencesSources

* Subgroup SG2206: SystemsOfClassification


Group G22: Abstract


= Annex G – Changes from v2.1 and 3.0 of the DGWIG WMS profile

*(Informative)*

[cols="^,^,^,^,^,^,^",options="header",]

|===============================================================================================================================================================================================================================

a| *Req. #* *In v2.1* 

 |*Requirement from DGIWG WMS profile v 2.1* 

a| *Mandatory* */Conditional*

 |*Req # in v3.0* |*DGIWG Basic +

(version3.0)* |*DGIWG Queryable +

(version 3.0)* |*Modifications*



|*1* |A DGIWG WMS server shall be compliant to the Queryable WMS conformance class. |M |1 +

24 |X +

(see modification) |X +

(see modification) |*Req 1 splited into 2 : +

- Req 1 (WMS Basic) +

- Req 24 (WMS Queryable)



|*2* |A DGIWG WMS server shall support HTTP GET. |M |2 |X +

(see modification) | |*HTTP Get for all operations +

& KVP encoded added



|*3* |A DGIWG WMS server shall support text/xml and text/html as output formats for the GetCapabilities and the GetFeatureInfo Operations. |M |25 | |X +

(see modification) |* no more text/html for GetCapabilities response +

* text/xml and text/html only kept for DGIWG WMS queryable (see Req. 29)



|*4* |A DGIWG WMS server shall provide metadata content in a response to a "GetCapabilities" or “GetFeatureInfo” request in English language. |M |3 |X +

(see modification) | |* reworded for all operations +

* moved to a subsection language instead being part of the output format



|*5* |A DGIWG WMS server shall support the following raster formats for the GetMap operation: +

• image/png (Portable Network Graphics) +

• image/gif (Graphics Interchange Format) +

• image/jpeg (Joint Photographics Expert Group) |M |4 |X | |*Kept as previously



|*6* 

|A DGIWG WMS server shall support the following coordinate reference systems: +

• CRS:84 WGS84 geographic longitude, then latitude, expressed in decimal degrees +

• EPSG:4326 WGS84 geographic latitude, then longitude, expressed in decimal degrees +

• EPSG:3395 World Mercator projection +

Among the following Coordinate Reference Systems, the service shall support all those which validity zone overlaps data published by the service: +

• UTM projections over WGS84 (north zones)… EPSG:32601 to EPSG:32660 +

• UTM projections over WGS84 (south zones)… EPSG:32701 to EPSG:32760 +

• UPS projection over WGS84 (north zone)…… EPSG:32661 +

• UPS projection over WGS84 (south zone)…… EPSG:32761 

|M 

|5 

|X 

| 

|* EPSG codes modified for UPS projection (EPS:5041 and EPSG:5042, replacing EPSG:32661 and EPSG:32761) +

*CRS are in line with STANAG 2211 +

* reference to OGC web page providing guidance for axis order added



|*7* 

|A DGIWG WMS server shall provide service exceptions in English language. 

|M 

|6 

|X 

| 

|* explanation added



|*8* 

|A DGIWG WMS server shall support all GetCapabilities request parameters. 

|M 

| 

| 

| 

|* requirement deleted (obvious) +

* kept as a general sentence



|*9* 

|A DGIWG WMS server shall provide all mandatory and optional service metadata elements. 

|M 

|7 

|X +

(see modification) 

| 

|* clarifications added for each element



|*10* 

|A DGIWG WMS server shall identify the highest classification level of the content accessible through the WMS service by populating the wms:AccessConstraints element. 

|M 

|8 

|X +

(see modification) 

| 

|* condition added (when underlying data are classified) +

* generic sentence for the classification scheme dependant of the context added



|*11* 

|A DGIWG WMS server shall include the following information in the abstract element of the service metadata: "This service implements the DGIWG WMS 1.3 profile version 1.0." 

|M 

|9 and 26 

|X +

(see modification) 

| 

|* version of the profile updated (v3.0) +

* reference to the conference class supported (either DGIWG Basic or DGIWG Queryable) added



|*12* 

|A DGIWG WMS server shall provide a minimum keyword list based on the DFDD groups. 

|M 

|10 

|X +

(see modification) 

| 

|* semantic reference changed from DFDD to DGIM groups +

* groups for baseline 2016-02 kept as an example



|*13* 

|A DGIWG WMS server shall provide information on the supported styles. 

|M 

|11 

|X +

(see modification) 

| 

|* clarification added (Name and Title)



|*14* 

|A DGIWG WMS server shall always provide at least one style element and that style shall be advertised even if it's only the default style. 

|M 

|12 

|X 

| 

|* examples added, to be validated



|*15* 

|The MaxWidth and MaxHeight shall be greater or equal to 800 pixels. 

|M 

|13 

|X +

(see modification) 

| 

|* clarification added (or omitted)



|*16* 

|Each vector data layer's style shall have an associated legend, available as an image in one of the following formats: PNG, GIF or JPEG. 

|M 

|14 

|X +

(see modification) 

| 

|* generalized to all layers but conditional (if warranted)



|*17* 

|This legend shall be accessible online at the URL specified by LegendURL. 

|M 

|15 

|X +

(see modification) 

| 

|* online deleted



|*18* 

|A DGIWG WMS server shall provide scale denominators for all layers it provides. 

|M 

|- 

| 

| 

|* deleted



|*19* 

|The <MinScaleDenominator> value shall always be less than or equal to the <MaxScaleDenominator> value. 

|M 

|16 

|X +

(see modification) 

| 

|* condition added (when provided)



|*20* 

|If the GetCapabilities document identifies support for FeatureListURL then the list of features that are in the particular layer shall be resolvable through the provided URL. 

|C 

|17 

|X +

(see modification) 

| 

|* precondition added before the list of all requirements +

* reworded



|*21* 

|If the GetCapabilities document identifies support for DataURL then the underlying data of the particular layer shall be resolvable through the provided URL. 

|C 

|18 

|X +

(see modification) 

| 

|* reworded as previous requirement



|*22* 

|A DGIWG WMS server shall provide the XML Attributes according to Table 4. 

|M 

|19 

|X 

| 

| 



|*23* 

|A DGIWG WMS server shall support all GetMap request parameters. 

|M 

|- 

| 

| 

|* deleted (obvious), kept as a general sentence



|*24* 

|A DGIWG WMS Service shall support transparency 

|M 

|20 

|X +

(see modification) 

| 

|* service => server



|*25* 

|A DGIWG WMS server shall support the INIMAGE EXCEPTIONS. 

|M 

|21 

|X 

| 

| 



|*26* 

|A DGIWG WMS server shall support the BLANK EXCEPTIONS. 

|M 

|22 

|X 

| 

| 



|*27* 

|If a DGIWG WMS server provides multi-dimensional data then it shall: +

• Support the vertical Elevation and temporal Time request parameters. +

• Handle data utilized in these parameters in accordance with the "OGC Best Practices for using OGC WMS with Time-Dependent or Elevation-Dependent Data [2]" 

|C 

|- 

| 

| 

|*moved as a recommendations 5 and 6



|*28* 

|A DGIWG WMS server that announces available sample dimensions in its service metadata shall resolve the corresponding parameters provided in the GetMap operation for requesting these dimensional values. 

|M 

|23 

|X 

| 

| 



|*29* 

|A DGIWG WMS server shall support the FEATURE_COUNT parameter to enable the increase of the number of features per layer for which the server returns information. 

|M 

|- 

| 

|X 

|*ok deleted, generic requirement added



|*30* 

|A DGIWG WMS server shall support the EXCEPTIONS parameter support of text/xml and text/html. 

|M 

|27 

| 

|X +

(see modification) |*only XML kept and reworded



|*31* 

|A DGIWG WMS server shall provide a response according to the INFO_Format. 

|M 

|- 

| 

| 

|*obvious (deleted)



|*32* 

|A DGIWG WMS server shall return the units of measure for dimensional values returned in a GetFeatureInfo response. 

|M 

|- 

| 

| 

|*deleted, moved as recommendation 7

|===============================================================================================================================================================================================================================





